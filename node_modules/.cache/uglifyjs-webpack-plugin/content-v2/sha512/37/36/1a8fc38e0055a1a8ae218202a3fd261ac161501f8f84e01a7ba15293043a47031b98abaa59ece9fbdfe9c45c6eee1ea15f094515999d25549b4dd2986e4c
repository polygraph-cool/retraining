{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=8)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=null,a=null,r=null,o=null,l=null,s=null,c=window.innerWidth,u=window.innerHeight,d=null,f=null,p=null,m=null,y=null,g=null,b=d3.scaleLinear().domain([0,100]),v=null,x=null,h=null,k=null,_=null,w=null,j=null,A=null,S={},E=null,C=null,T=null,F=null,M=415,O=null,D=null,L=null,P=null,I={cx:\"\",cy:\"\",r:\"\",fill:\"\",yScale:\"\",opacityCircles:\"\",opacityAnnotations:\"\"},N={},R={},B={},H={},z={},W=null,K=null,q=[0,0,0,0,0],J=[],U=[];[\"crosswalk_jobs\",\"similarity\",\"crosswalk_skills\",\"skills\"].forEach(function(t){U.push(\"assets/data/\"+t+\".csv\")});var G=d3.select(\"figure.svg-container\"),Y=G.select(\"svg.scatter\"),V=null,Q=[.2,.5,.75,.9,1.1,1.25,2,5],X=[\"#a50026\",\"#d73027\",\"#f46d43\",\"#fee090\",\"#e0f3f8\",\"#74add1\",\"#4575b4\",\"#313695\"];function Z(t){return t.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\")}function tt(t,e){return t.filter(function(t){return+t.id_selected==+e}).filter(function(t){return+t.id_compared!=+t.id_selected})}function et(t){var e=d3.select(\"svg.scatter\").at(\"width\"),n=.9*e,i=(1-.9)*e;return d3.scaleLinear().domain(d3.extent(t,function(t){return t.similarity})).range([0+i,n])}function nt(t,e){return t.imp<e.imp?1:t.imp>e.imp?-1:0}function it(){var t=G.select(\".job-selector__dropdown\").property(\"value\"),e=tt(T,t),n=e[0].id_selected;console.log(\"selected job id: \"+t),console.log(\"updated data \"+e),console.log(\"current job \"+n);var i=et(e),a=G.select(\"div.chart-title-div\");a.select(\".chart-title-pt2\").text(Z(R[n])),a.select(\".chart-title-pt3\").text(N[n]),a.select(\".chart-title-pt5\").text(\"$\"+Z(H[n])),m.domain([0,B[n]]);var r=d3.select(\"svg.scatter\");r.selectAll(\"circle.job\").remove();var o=r.selectAll(\"circle.job\").data(e).enter().append(\"circle.job\");o.at(\"cx\",function(t){return i(t.similarity)}).at(\"cy\",function(t){return m(B[t.id_compared])}).st(\"fill\",function(t){var e=H[t.id_selected],n=H[t.id_compared]/e;return S.colorScale(n)}).st(\"opacity\",function(t){return+B[t.id_compared]>B[t.id_selected]?0:1}).at(\"r\",function(t){var e=R[t.id_compared];return S.radiusScale(e)}),o.on(\"mouseenter\",rt).on(\"mouseleave\",at)}function at(t,e,n){O.st(\"visibility\",\"hidden\"),d3.select(n[e]).st(\"stroke\",\"gray\").st(\"stroke-width\",.5)}function rt(t,e,n){d3.select(n[e]).st(\"stroke\",\"black\").st(\"stroke-width\",2),q=(q=tt(J,t.id_compared)).sort(nt),d3.select(\"div.job-compared-name\").text(N[t.id_compared]),d3.select(\"div.job-compared-number\").text(Z(R[t.id_compared])+\" jobs in 2026\");var i=O.select(\"div.job-skills-container\"),a=(i.selectAll(\"div.bar-container\"),i.selectAll(\"div.job-bar-name\").data(q)),r=i.selectAll(\"div.job-bar\").data(q),o=i.selectAll(\"div.job-bar-value\").data(q),l=$(\".jobTooltip\").width(),s=$(\".jobTooltip\").height();b.range([0,.8*l]),r.st(\"height\",\"4px\").st(\"width\",function(t){return b(t.imp)+\"px\"}).st(\"background\",\"#D928BC\"),a.text(function(t,e){return e+1+\". \"+z[t.skill_id]}),o.text(function(t){return t.imp.toFixed(0)+\"%\"});var d,f,p=+d3.select(n[e]).at(\"cx\"),m=+d3.select(n[e]).at(\"cy\");d=p<c/2?100:-l-50,f=m<u/2?50:-s,O.st(\"left\",p+d+\"px\").st(\"top\",m+f+\"px\"),O.st(\"visibility\",\"visible\")}e.default={init:function(){return new Promise(function(t,e){var n;(n=d3).loadData.apply(n,U.concat([function(n,c){if(n)e();else{W=c[0],T=c[1],K=c[2],J=c[3];var u=function(t){var e=d3.min(t,function(t){return t.similarity});return t.filter(function(t){return t.similarity===e})}(F=tt(T,M)),b=function(t){var e=d3.max(t,function(t){return t.similarity});return t.filter(function(t){return t.similarity===e})}(F);W.forEach(function(t){t.id=+t.id,t.auto=+t.auto,t.wage=+t.wage,t.number=+t.number}),T.forEach(function(t){t.similarity=+t.similarity,t.id_compared=+t.id_compared,t.id_selected=+t.id_selected}),K.forEach(function(t){t.skill_id=+t.skill_id}),J.forEach(function(t){t.id_selected=+t.id_selected,t.imp=+t.imp,t.skill_id=+t.skill_id,t.rank=+t.rank}),function(t,e){W.forEach(function(t){e[t.id]=t.job_name})}(0,N),function(t,e){W.forEach(function(t){e[t.id]=t.number})}(0,R),function(t,e){W.forEach(function(t){e[t.id]=t.auto})}(0,B),function(t,e){W.forEach(function(t){e[t.id]=t.wage})}(0,H),function(t,e){K.forEach(function(t){return e[t.skill_id]=t.skill})}(0,z),function(){Y.at(\"height\"),d=Y.at(\"width\"),f=.9*d,p=(1-.9)*d;var t=Y.at(\"height\");y=.9*t,g=.15625*t,l=t/2,m=d3.scaleLinear().domain([0,1]).range([0+g,y]),V=et(F),r=l-(i=.8*l),o=l-(a=.6*l)}(),S.radiusScale=d3.scaleSqrt().domain([0,d3.max(W,function(t){return t.wage})]).range([2,8]),S.colorScale=d3.scaleLinear().domain(Q).range(X),S=S,function(t,e){var n=Y.append(\"g.least-similar-annotation similarity-annotation\"),c=Y.append(\"g.most-similar-annotation similarity-annotation\"),u=n.append(\"line\"),y=c.append(\"line\"),g=n.append(\"text\"),b=c.append(\"text\");g.text(N[t[0].id_compared]),b.text(N[e[0].id_compared]).st(\"text-anchor\",\"end\"),n.at(\"transform\",function(e){return\"translate(\"+V(t[0].similarity)+\",\"+i+\")\"}),c.at(\"transform\",function(t){return\"translate(\"+V(e[0].similarity)+\",\"+a+\")\"}),u.at(\"x1\",0).at(\"y1\",0).at(\"x2\",0).at(\"y2\",r).st(\"stroke-width\",1).st(\"stroke\",\"black\"),y.at(\"x1\",0).at(\"y1\",0).at(\"x2\",0).at(\"y2\",o).st(\"stroke-width\",1).st(\"stroke\",\"black\"),w=Y.append(\"text.axis-label similarity\"),s=1.1*l,w.at(\"x\",d/2).at(\"y\",s).text(\"SKILL SIMILARITY TO TRUCKERS\").st(\"text-anchor\",\"middle\"),j=Y.append(\"text.axis-label max-similarity\"),A=Y.append(\"text.axis-label min-similarity\"),j.at(\"x\",f).at(\"y\",s).text(\"→ SIMILAR\").st(\"text-anchor\",\"middle\"),A.at(\"x\",p).at(\"y\",s).text(\"DIFFERENT ←\").st(\"text-anchor\",\"middle\"),n.st(\"opacity\",0),c.st(\"opacity\",0),j.st(\"opacity\",0),A.st(\"opacity\",0),w.st(\"opacity\",0),P=Y.selectAll(\".axis-label\");var k=d3.format(\".0%\");x=d3.axisLeft(m).ticks(4).tickFormat(k),v=Y.append(\"g.scatter-y-axis\").attr(\"transform\",\"translate(\"+p+\",0)\").call(x).st(\"opacity\",0),(h=Y.append(\"text.scatter-label-y-axis\")).at(\"transform\",\"translate(\"+p/3+\",\"+l+\") rotate(270)\").st(\"opacity\",0).text(\"AUTOMATABILITY LIKELIHOOD\"),O=d3.select(\"figure.svg-container\").append(\"div.jobTooltip\"),d3.select(\"div.job-selected-name\"),O.append(\"div.job-compared-number\"),O.append(\"div.job-compared-name\");var S=(D=O.append(\"div.job-skills-container\")).append(\"div.tooltip-section-names\");S.append(\"div.section-name-skills\").text(\"SKILL\"),S.append(\"div.section-name-importance\").text(\"IMPORTANCE\"),(_=Y.append(\"g.bisecting-automation-group\")).at(\"transform\",\"translate(0,\"+m(B[M])+\")\"),_.append(\"line.bisecting-line\").at(\"x1\",p).at(\"y1\",0).at(\"x2\",f).at(\"y2\",0),_.append(\"text.bisecting-line-label\").text(\"TRUCKERS\"),_.st(\"opacity\",0)}(u,b),function(t,e){var n=[{value:1.1,label:\"10\"},{value:1.25,label:\"25\"},{value:2,label:\"100\"},{value:5,label:\"400%\"}],i=[{size:1e4,label:\"10K\"},{size:1e5,label:\"500K\"},{size:1e6,label:\"1M\"}];(E=Y.append(\"g.legend__wages\")).at(\"transform\",\"translate(\"+.75*d+\",\"+g/6+\")\");var a=E.append(\"text.legend-wages__title\"),r=E.selectAll(\"g.legend-wages__category\").data(n).enter().append(\"g.legend-wages__category\"),o=d/30,l=g/10,s=t(1e6);r.at(\"transform\",function(t,e){return\"translate(\"+e*o+\",\"+s+\")\"}),r.append(\"rect.legend-wages__rectangle\").at(\"width\",o).at(\"height\",g/10).st(\"fill\",function(t){return e(t.value)});var c=3*l;r.append(\"text.legend-wages__text-annotation\").text(function(t){return t.label}).at(\"y\",c).at(\"x\",o),E.append(\"text.legend-wages__zero\").text(\"1%\").at(\"y\",c+s);var u=n.length/2*o;a.text(\"SALARY INCREASE %\").at(\"x\",u),(C=Y.append(\"g.legend-job-number\")).at(\"transform\",\"translate(\"+p+\",\"+g/6+\")\");var f=C.selectAll(\"g.legend-job-number__category\").data(i).enter().append(\"g.legend-job-number__category\");f.at(\"transform\",function(e,n){return\"translate(\"+4*n*t(1e6)+\",\"+t(1e6)+\")\"}),f.append(\"circle.legend-job-number__circle\").at(\"r\",function(e){return t(e.size)}).st(\"fill\",\"#FFF\").st(\"stroke\",\"#C6C6C6\"),f.append(\"text.legend-job-number__text\").text(function(t){return t.label}).at(\"y\",2*t(1e6));var m=4*Math.round((i.length-1)/2)*t(1e6),y=C.append(\"text.job-number-title-background\"),b=C.append(\"text.job-number-title\");y.text(\"JOBS IN 2026\").at(\"x\",m).st(\"stroke\",\"#FFF\").st(\"stroke-width\",\"1px\"),b.text(\"JOBS IN 2026\").at(\"x\",m),C.st(\"opacity\",0),E.st(\"visibility\",\"hidden\")}(S.radiusScale,S.colorScale),function(){(L=d3.select(\"div.job-selector__container\").append(\"select\")).at(\"class\",\"job-selector__dropdown\").st(\"opacity\",0);var t=L.selectAll(\"option.job-selector__job-button\").data(W).enter().append(\"option.job-selector__job-button\").at(\"value\",function(t){return t.id});L.insert(\"option\",\":first-child\").at(\"selected\",\"selected\").text(\"Pick another job\"),t.text(function(t){return t.job_name}),$(\".job-selector__dropdown\").chosen({placeholder_text_single:\"Select another job\"}).on(\"change\",it)}(),(I=D.selectAll(\"div.job-bar-container\").data(q).enter().append(\"div.bar-container\")).append(\"div.job-bar-name\").data(q).enter(),(U=I.append(\"div.job-data-container\")).append(\"div.job-bar-box\").append(\"div.job-bar\").data(q).enter(),U.append(\"div.job-bar-value\").data(q).enter(),(k=Y.selectAll(\"circle.job\").data(F).enter().append(\"circle.job\")).at(\"cx\",function(t){return V(t.similarity)}).at(\"cy\",l).st(\"fill\",\"white\").st(\"stroke\",\"gray\").st(\"stroke-width\",.5).st(\"opacity\",0).at(\"r\",\"3\").on(\"mouseenter\",rt).on(\"mouseleave\",at),t(J)}var I,U}]))})},updateStep:function(t){if(\"x-axis-base\"===t)d3.selectAll(\"span.title\").st(\"display\",\"block\"),Y.selectAll(\"g.annotation-group-different\").st(\"visibility\",\"hidden\"),Y.selectAll(\"g.annotation-group-similar\").st(\"visibility\",\"hidden\"),Y.selectAll(\"g.skill-section__two-jobs\").transition().at(\"transform\",\"translate(0,\"+l+\")\").st(\"opacity\",0),Y.selectAll(\"g.all-jobs\").transition().at(\"transform\",\"translate(0,\"+l+\")\").st(\"opacity\",0),Y.selectAll(\"g.trucker-developer-groups\").classed(\"invisible\",!0),Y.selectAll(\"circle.job\").classed(\"invisible\",!1),Y.selectAll(\"g.similarity-annotation\").classed(\"invisible\",!1),G.selectAll(\".misc-elements\").st(\"visibility\",\"visible\"),G.selectAll(\".job-selector__container\").st(\"visibility\",\"hidden\"),G.select(\"img.images-many-jobs-many-skills\").st(\"display\",\"none\"),Y.st(\"display\",\"block\"),I.cy=function(){return l},I.r=function(){return 3},I.fill=function(){return\"#FFF\"},I.yScale=function(){m.domain([0,1])},I.opacityCircles=function(){return 1},I.opacityAnnotations=function(){return 0},I.yScale(),k.transition().at(\"cy\",I.cy).at(\"r\",I.r).st(\"fill\",I.fill).st(\"opacity\",I.opacityCircles),Y.selectAll(\"g.similarity-annotation\").transition().st(\"opacity\",I.opacityCircles),v.st(\"opacity\",I.opacityAnnotations),h.transition().st(\"opacity\",I.opacityAnnotations),_.transition().st(\"opacity\",I.opacityAnnotations),P.transition().st(\"opacity\",1).at(\"y\",s);else if(\"xy-axis-scatter\"===t){m.domain([0,1]),Y.selectAll(\"g.similarity-annotation\").st(\"opacity\",0);var e=1.05*y;v.transition().st(\"opacity\",1),h.transition().st(\"opacity\",1),Y.selectAll(\"text.axis-label\").transition().at(\"y\",e),k.transition().at(\"cy\",function(t){return m(B[t.id_compared])}).st(\"opacity\",1),_.transition().st(\"opacity\",I.opacityCircles).at(\"transform\",\"translate(0,\"+m(B[M])+\")\")}else\"xy-axes-scatter\"===t?(m.domain([0,.79]),v.call(x),k.transition().at(\"cy\",function(t){return m(B[t.id_compared])}).st(\"opacity\",function(t){return+B[t.id_compared]>+B[t.id_selected]?0:1}),_.transition().at(\"transform\",\"translate(0,\"+m(B[M])+\")\").st(\"opacity\",0),k.st(\"opacity\",function(t){return+B[t.id_compared]>+B[t.id_selected]?0:1}).transition().at(\"cy\",function(t){return m(B[t.id_compared])}).st(\"fill\",\"#FFF\").at(\"r\",3),E.st(\"visibility\",\"hidden\")):\"xy-axes-scatter-filtered\"===t?(C.transition().st(\"opacity\",0),E.transition().st(\"visibility\",\"visible\"),k.transition().at(\"r\",3).st(\"fill\",function(t){var e=H[t.id_selected],n=H[t.id_compared]/e;return S.colorScale(n)}).transition().delay(1e3).st(\"opacity\",function(t){return H[t.id_selected]<H[t.id_compared]&&B[t.id_selected]>B[t.id_compared]?1:0})):\"show-similarity-auto-wage\"===t?(L.transition().st(\"opacity\",0),C.transition().st(\"opacity\",1),k.transition().at(\"r\",function(t){var e=R[t.id_compared];return S.radiusScale(e)})):\"show-similarity-auto-wage-number\"===t&&(G.selectAll(\".job-selector__container\").st(\"visibility\",\"visible\"),L.transition().st(\"opacity\",1))}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=d3.select(\"svg.scatter\"),a=null,r=null,o=10,l=null,s=250,c=50,u=null,d=null,f=null,p=null,m=null,y=null,g=null,b=null,v=null,x=null,h=null,k=null,_={},w=null,j=null,A=null,S=!1,E=null,C=[\"devs_and_truckers_skills\",\"Choreographers\",\"Dentists\",\"Nurses\",\"Chiropractors\",\"Farmers\",\"Construction_Managers\",\"Firefighters\",\"Geographers\",\"Embalmers\",\"Piplayers\",\"Podiatrists\",\"Fabric_Patternmakers\",\"Clergy\",\"Makeup_Artists\",\"Family_Therapists\",\"CEOs\",\"Art_Directors\",\"Interior_Designers\",\"Craft_Artists\",\"Event_Planners\",\"Veterinarians\",\"Writers\",\"Political_Scientists\",\"Ship_Engineers\",\"Paramedics\",\"Mathematicians\",\"Florists\",\"Travel_Guides\",\"News_Analysts\",\"Musicians\",\"Fitness_Trainers\",\"Graphic_Designers\",\"Childcare_Workers\",\"Police_Officers\",\"Hairdressers\",\"Journalists\",\"Air_Traffic_Controllers\",\"Dancers\",\"Optometrists\",\"Physician_Assistants\",\"Electricians\",\"Ambulance_Drivers\",\"Athletes\",\"Skincare_Specialists\",\"Private_Cooks\",\"Funeral_Attendants\",\"Actors\",\"Judges\",\"Economists\",\"historians\",\"Dental_Assistants\",\"Cobblers\",\"Massage_Therapists\",\"Millwrights\",\"Librarians\",\"Maids\",\"Bartenders\",\"Dishwashers\",\"Fast_Food_Cooks\",\"Barbers\",\"Real_Estate_Agents\",\"Proofreaders\"],T=C.length,F=[];C.forEach(function(t){F.push(\"assets/data/\"+t+\".csv\")}),e.default={init:function(){return new Promise(function(t,e){var n;(n=d3).loadData.apply(n,F.concat([function(n,c){if(n)e();else{k=c[0];var S=[];!function(t,e){var n=void 0;for(n=1;n<e.length;n++)t.push(e[n])}(S,c),window.innerWidth,window.innerHeight,function(t,e){var n=0,i=0;t.forEach(function(t){t.difference=Math.abs(+t.devs-+t.truckers),i%2==0?(t.abrigedNum=n,n+=1):t.abrigedNum=2e3,i+=1}),e.forEach(function(t){t.forEach(function(t){t.difference=Math.abs(+t.job_selected-+t.job_compared)})});var a=void 0,r=0,o=1;for(a=0;a<t.length;a++)t[a].xCoordStacked=r,r+=t[a].difference+o;e.forEach(function(t){for(r=0,o=1,a=0;a<t.length;a++)t[a].xCoordStacked=r,r+=+t[a].difference+o}),x=[].concat.apply([],e);var l=0;(h=d3.nest().key(function(t){return t.job_compared_name}).entries(x)).forEach(function(t){t.order=l,l+=1})}(k,S),function(){a=i.at(\"width\"),r=i.at(\"height\"),l=r/(k.length+1);var t=.7*a,e=(1-.7)*a;_.xScale=d3.scaleLinear().domain([0,100]).range([e,t]),_.xScaleRectangle=d3.scaleLinear().domain([0,100]).range([0,t-e]);var n=x.map(function(t){return t.xCoordStacked}),o=d3.max(n)/68;_.xScaleEuclidean=d3.scaleLinear().domain([0,100]).range([0,o])}(),function(t){E=d3.select(\"span.chart-title-pt1\"),w=i.selectAll(\"g.skill-section__two-jobs\").data(t).enter().append(\"g.skill-section__two-jobs\").st(\"opacity\",0).at(\"transform\",function(t,e){return\"translate(60,\"+(o+e*l)+\")\"}),j=i.selectAll(\"g.all-jobs\").data(h).enter().append(\"g\").at(\"class\",function(t){return\"all-jobs \"+t.key}).st(\"opacity\",0),A=j.selectAll(\"g.skill-item\").data(function(t){return t.values}).enter().append(\"g\").at(\"class\",function(t){return\"skill-item-\"+t.skills.replace(/ /g,\"_\")}),p=w.append(\"line.skill-axis\"),m=j.append(\"text.job-name\"),y=w.append(\"rect.skill-difference-axis\"),g=A.append(\"rect.skill-difference-axis-all-jobs\"),y.at(\"x\",function(t){return+t.devs>=+t.truckers?_.xScale(+t.truckers):_.xScale(+t.devs)}).at(\"y\",-1.5).at(\"width\",function(t){return _.xScaleRectangle(t.difference)}).at(\"height\",3).st(\"fill\",\"#E530BE\").st(\"opacity\",0),g.at(\"x\",function(t){return _.xScaleEuclidean(t.xCoordStacked)}).at(\"width\",function(t){return _.xScaleEuclidean(t.difference)}).st(\"fill\",\"#E530BE\").at(\"transform\",function(t,e){return\"translate(250,0)\"}).at(\"height\",3).on(\"mouseenter\",function(t){return console.log(t.skills)}),j.at(\"transform\",function(t,e){return\"translate(0,\"+(e*o+30)+\")\"}),u=w.append(\"circle.devs-skill-circle\"),d=w.append(\"circle.truckers-skill-circle\"),f=w.append(\"text.skill-name\"),b=i.selectAll(\".intro-x-axis\"),v=i.selectAll(\".trucker-developer-groups\")}(k),function(){var t={},e={},n={},r={},l=h.filter(function(t){return\"Piplayers\"===t.key}),c=h.filter(function(t){return\"CEOs\"===t.key}),u=h.filter(function(t){return\"Clergy\"===t.key}),d=h.filter(function(t){return\"Ambulance_Drivers\"===t.key});k.filter(function(t){return\"Fine Arts\"===t.key}),console.log(k);var f=l[0].values.length-1;t.xCoord=s+_.xScaleEuclidean(l[0].values[f].xCoordStacked),e.xCoord=s+_.xScaleEuclidean(c[0].values[f].xCoordStacked),n.xCoord=s+_.xScaleEuclidean(u[0].values[f].xCoordStacked),r.xCoord=s+_.xScaleEuclidean(d[0].values[f].xCoordStacked),t.yCoord=+l[0].order*o+30,e.yCoord=+c[0].order*o+30,n.yCoord=+u[0].order*o+30,r.yCoord=+d[0].order*o+30;var p=a-.15*a,m=p-e.xCoord,y=p-r.xCoord,g=[{note:{label:\"CEOs and truck drivers have the greatest gap between their skills\",title:\"Highly different\",wrap:150,align:\"middle\"},x:e.xCoord,y:e.yCoord,dx:m,dy:-40}],b=[{note:{label:\"The largest skill overlap for truck drivers occurs with ambulance drivers\",title:\"Highly similar\",wrap:150,align:\"middle\"},x:r.xCoord,y:r.yCoord,dx:y,dy:0}],v=d3.annotation().type(d3.annotationCalloutElbow).annotations(g),x=d3.annotation().type(d3.annotationLabel).annotations(b);i.append(\"g\").attr(\"transform\",\"translate(0,0)\").attr(\"class\",\"annotation-group-different\").call(v),i.append(\"g\").attr(\"transform\",\"translate(0,0)\").attr(\"class\",\"annotation-group-similar\").call(x)}(),t()}}]))})},updateStep:function(t){if(\"images-two-jobs-all-skills\"===t)i.select(\"text.example-skill-title\").st(\"opacity\",0),E.text(\"Skills for truckers and developers\"),d3.select(\".chart-title-div\").st(\"visibility\",\"visible\"),y.transition().st(\"opacity\",0),u.transition().duration(1e3).st(\"opacity\",1),d.transition().duration(1e3).st(\"opacity\",1),b.st(\"opacity\",0),v.st(\"opacity\",0),u.at(\"cx\",function(t){return _.xScale(t.devs)}).at(\"r\",5).on(\"mouseenter\"),d.at(\"cx\",function(t){return _.xScale(t.truckers)}).at(\"r\",5),w.transition().st(\"opacity\",1),f.text(function(t){return t.skills}).st(\"text-anchor\",\"right\").st(\"opacity\",function(t,e){return e%5==0?1:.3}),p.at(\"x1\",function(){return _.xScale(0)}).at(\"y1\",0).at(\"x2\",function(){return _.xScale(100)}).at(\"y2\",0).at(\"stroke-width\",1).st(\"stroke\",\"black\"),m.at(\"transform\",\"translate(60,0)\").text(function(t){return t.key.replace(/_/g,\" \")}).st(\"text-anchor\",\"right\").st(\"opacity\",0);else if(\"images-two-jobs-highlight-skill-differences\"===t){i.selectAll(\"g.annotation-group-different\").transition().st(\"visibility\",\"hidden\"),i.selectAll(\"g.annotation-group-similar\").transition().st(\"visibility\",\"hidden\");var e=T*c*.6;w.transition().delay(function(){return!0===S?e:0}).at(\"transform\",function(t,e){return\"translate(60,\"+(o+e*l)+\")\"}),f.transition().delay(function(){return!0===S?e:0}).text(function(t){return t.skills}).st(\"text-anchor\",\"right\").st(\"opacity\",function(t,e){return e%5==0?1:.3}),p.at(\"x1\",function(){return _.xScale(0)}).at(\"y1\",0).at(\"x2\",function(){return _.xScale(100)}).at(\"y2\",0).at(\"stroke-width\",1).st(\"stroke\",\"black\").transition().delay(function(){return!0===S?e:0}).st(\"opacity\",1),m.text(function(t){return t.key.replace(/_/g,\" \")}).st(\"text-anchor\",\"right\").transition().duration(function(t,e){return T*c-e*c}).st(\"opacity\",0),y.transition().delay(function(){return!0===S?e:0}).st(\"opacity\",1).at(\"x\",function(t){return+t.devs>=+t.truckers?_.xScale(+t.truckers):_.xScale(+t.devs)}).at(\"y\",-1.5).at(\"width\",function(t){return _.xScaleRectangle(t.difference)}).at(\"height\",3).at(\"transform\",\"translate(0,0)\").st(\"fill\",\"#E530BE\"),u.transition().st(\"opacity\",0),d.transition().st(\"opacity\",0),j.transition().duration(function(t,e){return T*c-e*c}).st(\"opacity\",0),S=!1}else\"images-two-jobs-stacked-skills\"===t?(d3.selectAll(\"span.secondary-title\").st(\"display\",\"none\"),E.transition().text(\"Skills for truckers vs. other jobs\"),S=!0,p.transition().st(\"opacity\",0),u.transition().st(\"opacity\",0),d.transition().st(\"opacity\",0),j.at(\"transform\",function(t,e){return\"translate(0,\"+(e*o+30)+\")\"}).transition().delay(450).duration(function(t,e){return e*c}).st(\"opacity\",1),m.transition().delay(450).st(\"opacity\",1),f.transition().st(\"opacity\",0).text(function(t,e){return e===k.length-1?\"Developers\":\"\"}).at(\"transform\",\"translate(60,0)\").transition().st(\"opacity\",1),y.transition().duration(500).at(\"x\",function(t){return _.xScaleEuclidean(t.xCoordStacked)}).at(\"width\",function(t){return _.xScaleEuclidean(t.difference)}).at(\"transform\",function(t,e){return\"translate(250,0)\"}).at(\"height\",3),w.transition().delay(function(t,e){return 3.67647059*e}).st(\"opacity\",1).at(\"transform\",function(){return\"translate(0,20)\"}),y.on(\"mouseenter\",function(t){return console.log(t.skills)}),i.selectAll(\"g.annotation-group-different\").transition().delay(450).st(\"visibility\",\"visible\"),i.selectAll(\"g.annotation-group-similar\").transition().delay(450).st(\"visibility\",\"visible\")):\"images-many-jobs-stacked-skills\"===t&&(i.selectAll(\"g.annotation-group-different\").st(\"visibility\",\"visible\"),i.selectAll(\"g.annotation-group-similar\").st(\"visibility\",\"visible\"),i.selectAll(\"g.similarity-annotation\").st(\"opacity\",0),i.selectAll(\".axis-label\").st(\"opacity\",0),i.selectAll(\"circle.job\").st(\"opacity\",0).on(\"mouseenter\",function(){}),d3.selectAll(\".misc-elements\").st(\"visibility\",\"hidden\"),y.transition().at(\"height\",3),m.transition().st(\"opacity\",1))}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=[{job:\"Truckers\",automatability:.79,skillDeveloperScore:3,skillDeveloperName:\"Programming\",fill:\"blue\",skillTruckerScore:72,skillTruckerName:\"Multilimb Coordination\"},{job:\"Developers\",automatability:.04,skillDeveloperScore:75,skillDeveloperName:\"Programming\",fill:\"magenta\",skillTruckerScore:0,skillTruckerName:\"Multilimb Coordination\"},{job:\"Elementary school teachers\",automatability:0,skillDeveloperScore:\"\",skillDeveloperName:\"\",fill:\"\",skillTruckerScore:\"\",skillTruckerName:\"\"},{job:\"Telemarketers\",automatability:1,skillDeveloperScore:\"\",skillDeveloperName:\"\",fill:\"\",skillTruckerScore:\"\",skillTruckerName:\"\"}],a=null,r=null,o=null,l=null,s=d3.select(\"body\").select(\"figure.svg-container\"),c=s.select(\"svg.scatter\"),u=20,d=50,f=null,p=null,m=null,y={},g=null,b=null,v=null,x=null,h=null,k=null,_=null,w=null,j=null,A=null,S=null,E=null,C=null;e.default={init:function(){return new Promise(function(t,e){var n,s;n=i,c.append(\"defs\").selectAll(\"pattern\").data(n).enter().append(\"pattern\").at(\"width\",2*u).at(\"height\",2*u).at(\"id\",function(t){return t.job.replace(/ /g,\"_\")+\"-img\"}).append(\"image\").at(\"width\",2*u).at(\"height\",2*u).at(\"x\",0).at(\"y\",0).at(\"xlink:href\",function(t){return\"assets/data/circle-images/\"+t.job.replace(/ /g,\"_\")+\".png\"}),a=c.at(\"width\"),r=c.at(\"height\"),window.innerWidth,f=window.innerHeight,o=.9,l=.8,console.log(\"resize!\"),s=document.getElementById(\"misc-chart-elements-container\").offsetHeight,g=(f-s)*l,b=a*o,v=(1-o)*a,x=(1-l)*r,y.yScale=d3.scaleLinear().domain([0,1]).range([0+x,g]),y.xScale=d3.scaleLinear().domain([0,100]).range([0+v,b]),m=a/2,function(){!function(){c.append(\"text.y-axis-label.min\").at(\"x\",m).at(\"y\",x/2).st(\"fill\",\"#2F80ED\").st(\"text-anchor\",\"middle\").text(\"FUTURE-PROOF JOBS\"),c.append(\"text.y-axis-label.max\").at(\"x\",m).at(\"y\",g+x/2).st(\"fill\",\"#EB5757\").st(\"text-anchor\",\"middle\").text(\"🤖 WILL TAKE THESE JOBS\");var t=d3.format(\".0%\"),e=d3.format(\"d\"),n=d3.axisLeft(y.yScale).ticks(1).tickFormat(t),i=d3.axisTop(y.xScale).ticks(1).tickFormat(e),a=m;p=c.append(\"g.intro-y-axis\").attr(\"transform\",\"translate(\"+a+\",0)\").call(n).st(\"opacity\",1),w=c.append(\"g.intro-x-axis\").attr(\"transform\",\"translate(0,\"+d+\")\").call(i).st(\"opacity\",0)}();var t=y.yScale(.35);C=c.append(\"text.example-skill-title\").at(\"x\",m).at(\"y\",t).text(\"Skill: programming\");var e=c.selectAll(\"circle.jobs-circles\").data(i).enter();k=e.append(\"g.trucker-developer-groups\"),h=k.append(\"circle.intro-jobs-circles\");var n=k.append(\"text.intro-automatability-values\");j=k.append(\"text.intro-job-names\");var a=k.append(\"text.intro-job-skill-values\");_=c.append(\"text.automatability-label\"),n.text(function(t){return 100*t.automatability+\"%\"}),j.text(function(t){return t.job}),a.text(function(t){return t.skillTruckerScore}),_.text(\"automation likelihood\"),k.at(\"transform\",function(t){return\"translate(\"+m+\",\"+ +y.yScale(t.automatability)+\")\"}).st(\"opacity\",function(t){return\"Elementary school teachers\"===t.job||\"Telemarketers\"===t.job?1:0}),a.st(\"opacity\",0),A=4*u,E=(S=2*u)/10,h.at(\"cx\",S).at(\"r\",u).st(\"fill\",\"#2F80ED\").st(\"fill\",function(t){return\"url(#\"+t.job.replace(/ /g,\"_\")+\"-img)\"}),j.at(\"x\",A).at(\"y\",E).st(\"text-anchor\",\"right\"),n.at(\"x\",-S).at(\"y\",E).st(\"text-anchor\",\"left\"),_.at(\"transform\",\"translate(\"+m+\",\"+r/2+\")\").st(\"opacity\",1)}(),t()})},updateStep:function(t){if(\"all-automation\"===t)k.transition().st(\"opacity\",function(t){return\"Truckers\"===t.job||\"Developers\"===t.job?0:1}),c.select(\"g.intro-y-axis\").selectAll(\"g.tick\").selectAll(\"text\").transition().st(\"opacity\",\"0\");else if(\"main-job-circle\"===t)k.transition().st(\"opacity\",function(t){return\"Truckers\"===t.job?1:0}),c.select(\"g.intro-y-axis\").selectAll(\"g.tick\").selectAll(\"text\").transition().st(\"opacity\",\"1\");else if(\"main-job-automation\"===t)C.transition().st(\"opacity\",0),j.at(\"x\",A).at(\"y\",E).st(\"text-anchor\",\"right\"),c.selectAll(\"text.y-axis-label\").transition().st(\"opacity\",1),c.selectAll(\".intro-automatability-values\").transition().st(\"opacity\",1),w.transition().st(\"opacity\",0).at(\"transform\",function(){return\"translate(0,\"+d+\")\"}),c.st(\"display\",\"block\"),p.st(\"opacity\",1),k.transition().st(\"opacity\",function(t){return\"Truckers\"===t.job||\"Developers\"===t.job?1:0}).at(\"transform\",function(t){return\"translate(\"+m+\",\"+ +y.yScale(t.automatability)+\")\"}),s.select(\"img.images-two-jobs-two-skills\").st(\"display\",\"none\");else if(\"images-two-jobs-two-skills-developers\"===t){C.transition().st(\"opacity\",1),d3.select(\".chart-title-div\").transition().st(\"visibility\",\"hidden\"),c.selectAll(\"g.trucker-developer-groups\").classed(\"invisible\",!1),j.at(\"x\",0).at(\"y\",S).st(\"text-anchor\",\"start\"),c.selectAll(\".skill-section__two-jobs\").transition().st(\"opacity\",0);var e=y.yScale(.5);c.selectAll(\"text.y-axis-label\").transition().st(\"opacity\",0),c.selectAll(\".intro-automatability-values\").transition().st(\"opacity\",0),w.transition().st(\"opacity\",1).at(\"transform\",function(){return\"translate(0,\"+e+\")\"}),p.transition().st(\"opacity\",0),k.transition().at(\"transform\",function(t){return\"translate(\"+y.xScale(t.skillTruckerScore)+\",\"+e+\")\"}).st(\"opacity\",function(t){return\"Truckers\"===t.job||\"Developers\"===t.job?1:0}),c.selectAll(\"g.skill-section\").transition().st(\"opacity\",0)}else if(\"images-two-jobs-two-skills\"===t){var n=y.yScale(.5);c.selectAll(\"text.y-axis-label\").transition().st(\"opacity\",0),c.selectAll(\".intro-automatability-values\").transition().st(\"opacity\",0),w.transition().st(\"opacity\",1).at(\"transform\",function(){return\"translate(0,\"+n+\")\"}),p.transition().st(\"opacity\",0),k.transition().at(\"transform\",function(t){return\"translate(\"+y.xScale(t.skillTruckerScore)+\",\"+n+\")\"})}else\"images-two-jobs-many-skills\"===t&&(s.select(\"img.images-two-jobs-two-skills\").st(\"display\",\"none\"),s.select(\"img.images-two-jobs-stacked-skills\").st(\"display\",\"none\"),s.select(\"img.images-two-jobs-many-skills\").st(\"display\",\"block\").st(\"visibility\",\"visible\"))}}},function(t,e,n){\"use strict\";var i,a;void 0===(a=\"function\"==typeof(i=function(){return function(t){function e(){p=!1;var t=function(){if(c&&\"number\"==typeof c){var t=Math.min(Math.max(0,c),1);return y-t*y}return y}();(m=m.filter(function(e){var n=e.getBoundingClientRect().top<t;if(n&&!e.__enter_view){if(o(e),d)return!1}else!n&&e.__enter_view&&l&&l(e);return e.__enter_view=n,!0})).length||window.removeEventListener(\"scroll\",n,!0)}function n(){p||(p=!0,f(e))}function i(){var t,n;t=document.documentElement.clientHeight,n=window.innerHeight||0,y=Math.max(t,n),e()}function a(t){for(var e=t.length,n=[],i=0;i<e;i+=1)n.push(t[i]);return n}var r=t.selector,o=t.enter,l=t.exit,s=t.offset,c=void 0===s?0:s,u=t.once,d=void 0!==u&&u,f=null,p=!1,m=[],y=0;r&&o||console.error(\"must set selector and enter options\"),f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return\"string\"==typeof t?a(e.querySelectorAll(t)):t instanceof NodeList?a(t):t instanceof Array?t:void 0}(r),window.addEventListener(\"resize\",i,!0),window.addEventListener(\"scroll\",n,!0),i(),e()}})?i.call(e,n,e,t):i)||(t.exports=a)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=l(n(3)),a=l(n(2)),r=l(n(1)),o=l(n(0));function l(t){return t&&t.__esModule?t:{default:t}}var s=window.innerWidth,c=window.innerHeight;function u(t){var e=d3.select(\"[data-index='\"+t+\"']\").attr(\"data-step\");console.log({step:e}),a.default.updateStep(e),r.default.updateStep(e),o.default.updateStep(e)}function d(){(0,i.default)({selector:\".section__scene\",offset:.1,enter:function(t){u(+d3.select(t).attr(\"data-index\"))},exit:function(t){var e=+d3.select(t).attr(\"data-index\");u(e=Math.max(0,e-1))}})}e.default={init:function(){var t=d3.select(\"body\").select(\"figure.svg-container\").select(\"svg.scatter\"),e=document.getElementById(\"misc-chart-elements-container\").offsetHeight,n=c-e;console.log(\"full viewport height: \"+c),console.log(\"misc el div height: \"+e),console.log(\"svg height (leftovers): \"+n),t.at(\"height\",n).at(\"width\",.9*s).st(\"fill\",\"#00000\");var i=d3.select(\"svg.scatter\").at(\"height\");console.log(\"svg height actual: \"+i),d3.select(\"img.images-two-jobs-two-skills\").st(\"width\",s*(.9-.3)),d3.select(\"img.images-two-jobs-many-skills\").st(\"width\",s*(.9-.3)),d3.select(\"img.images-two-jobs-stacked-skills\").st(\"width\",s*(.9-.3)),d3.select(\"img.images-many-jobs-many-skills\").st(\"width\",s*(.9-.3)),a.default.init().then(function(){d()}).catch(function(t){console.log(t)}),r.default.init().then(function(){d()}).catch(function(t){console.log(t)}),o.default.init().then(function(){d()}).catch(function(t){console.log(t)})},resize:function(){}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.android()||i.blackberry()||i.ios()||i.opera()||i.windows()}};e.default=i},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){var n=NaN,i=\"[object Symbol]\",a=/^\\s+|\\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt,c=\"object\"==typeof e&&e&&e.Object===Object&&e,u=\"object\"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function(\"return this\")(),f=Object.prototype.toString,p=Math.max,m=Math.min,y=function(){return d.Date.now()};function g(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function b(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&f.call(t)==i}(t))return n;if(g(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(a,\"\");var c=o.test(t);return c||l.test(t)?s(t.slice(2),c?2:8):r.test(t)?n:+t}t.exports=function(t,e,n){var i,a,r,o,l,s,c=0,u=!1,d=!1,f=!0;if(\"function\"!=typeof t)throw new TypeError(\"Expected a function\");function v(e){var n=i,r=a;return i=a=void 0,c=e,o=t.apply(r,n)}function x(t){var n=t-s;return void 0===s||n>=e||n<0||d&&t-c>=r}function h(){var t=y();if(x(t))return k(t);l=setTimeout(h,function(t){var n=e-(t-s);return d?m(n,r-(t-c)):n}(t))}function k(t){return l=void 0,f&&i?v(t):(i=a=void 0,o)}function _(){var t=y(),n=x(t);if(i=arguments,a=this,s=t,n){if(void 0===l)return function(t){return c=t,l=setTimeout(h,e),u?v(t):o}(s);if(d)return l=setTimeout(h,e),v(s)}return void 0===l&&(l=setTimeout(h,e)),o}return e=b(e)||0,g(n)&&(u=!!n.leading,r=(d=\"maxWait\"in n)?p(b(n.maxWait)||0,e):r,f=\"trailing\"in n?!!n.trailing:f),_.cancel=function(){void 0!==l&&clearTimeout(l),c=0,i=s=a=l=void 0},_.flush=function(){return void 0===l?o:k(y())},_}}).call(this,n(6))},function(t,e,n){\"use strict\";var i=o(n(7)),a=o(n(5)),r=o(n(4));function o(t){return t&&t.__esModule?t:{default:t}}var l=d3.select(\"body\"),s=0;l.classed(\"is-mobile\",a.default.any()),window.addEventListener(\"resize\",(0,i.default)(function(){var t=l.node().offsetWidth;s!==t&&(s=t,r.default.resize())},150)),r.default.init()}]);","extractedComments":[]}