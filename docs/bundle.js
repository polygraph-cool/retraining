!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=null,a=null,l=null,o=null,r=null,s=null,c=window.innerWidth,u=window.innerHeight,d=null,p=null,f=null,y=null,g=!1,m=!1,b=null,x=null,v=null,h=d3.scaleLinear().domain([0,100]),k=null,_=null,A=null,w=null,j=null,S=null,C=null,E=null,T=null,F=null,O={},D=null,M=null,P=null,L=null,I=415,N=null,R=null,B=null,z=null,H={cx:"",cy:"",r:"",fill:"",yScale:"",opacityCircles:"",opacityAnnotations:""},W={},K={},q={},J={},U={},G=null,Y=null,V=[0,0,0,0,0],Q=[],X=[];["crosswalk_jobs","similarity","crosswalk_skills","skills"].forEach(function(t){X.push("assets/data/"+t+".csv")});var Z=d3.select("figure.svg-container"),tt=Z.select("svg.scatter"),et=null,nt=[.2,.5,.75,.9,1.1,1.25,2,5],it=["#a50026","#d73027","#f46d43","#fee090","#e0f3f8","#74add1","#4575b4","#313695"];function at(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function lt(t,e){return t.filter(function(t){return+t.id_selected==+e}).filter(function(t){return+t.id_compared!=+t.id_selected})}function ot(t){return d=tt.at("width"),p=d*(f=.9),y=g?(1-f+.1)*d:(1-f)*d,d3.scaleLinear().domain(d3.extent(t,function(t){return t.similarity})).range([0+y,p])}function rt(t,e){return t.imp<e.imp?1:t.imp>e.imp?-1:0}function st(t,e){return t.job_name<e.job_name?-1:t.job_name>e.job_name?1:0}function ct(){var t;t=!0===m?415:Z.select(".job-selector__dropdown").property("value");var e=lt(P,t),n=e[0].id_selected;console.log("selected job id: "+t),console.log("updated data "+e),console.log("current job "+n),console.log("current job auto "+q[t]);var i=ot(e),a=Z.select("div.chart-title-div");a.select(".chart-title-pt2").text(at(K[n])),a.select(".chart-title-pt3").text(W[n]),a.select(".chart-title-pt5").text("$"+at(J[n])),b.domain([0,q[n]]),k.transition().call(_);var l=d3.select("svg.scatter");l.selectAll("circle.job").remove();var o=l.selectAll("circle.job").data(e).enter().append("circle.job");o.at("cx",function(t){return i(t.similarity)}).at("cy",function(t){return b(q[t.id_compared])}).st("fill",function(t){var e=J[t.id_selected],n=J[t.id_compared]/e;return O.colorScale(n)}).st("opacity",function(t){return J[t.id_selected]<J[t.id_compared]&&q[t.id_selected]>q[t.id_compared]?1:0}).at("r",function(t){var e=K[t.id_compared];return O.radiusScale(e)}),o.on("mouseenter",dt).on("click",dt).on("mouseleave",ut)}function ut(t,e,n){N.st("visibility","hidden"),d3.select(n[e]).st("stroke","gray").st("stroke-width",.5)}function dt(t,e,n){d3.select(n[e]).st("stroke","black").st("stroke-width",2),V=(V=lt(Q,t.id_compared)).sort(rt),d3.select("div.job-compared-name").text(W[t.id_compared]),d3.select("div.job-compared-number").text(at(K[t.id_compared])+" jobs in 2026");var i=N.select("div.job-skills-container"),a=(i.selectAll("div.bar-container"),i.selectAll("div.job-bar-name").data(V)),l=i.selectAll("div.job-bar").data(V),o=i.selectAll("div.job-bar-value").data(V),r=$(".jobTooltip").width(),s=$(".jobTooltip").height();h.range([0,.8*r]),l.st("height","4px").st("width",function(t){return h(t.imp)+"px"}).st("background","#D928BC"),a.text(function(t,e){return e+1+". "+U[t.skill_id]}),o.text(function(t){return t.imp.toFixed(0)+"%"});var d,p,f=+d3.select(n[e]).at("cx"),y=+d3.select(n[e]).at("cy");d=f<c/2?g?50:120:-r-50,p=y<u/2?50:-s,N.st("left",f+d+"px").st("top",y+p+"px"),N.st("visibility","visible")}e.default={init:function(){return new Promise(function(t,e){var n;(n=d3).loadData.apply(n,X.concat([function(n,u){if(n)e();else{G=u[0],P=u[1],Y=u[2],Q=u[3];var f=function(t){var e=d3.min(t,function(t){return t.similarity});return t.filter(function(t){return t.similarity===e})}(L=lt(P,I)),m=function(t){var e=d3.max(t,function(t){return t.similarity});return t.filter(function(t){return t.similarity===e})}(L);G.forEach(function(t){t.id=+t.id,t.auto=+t.auto,t.wage=+t.wage,t.number=+t.number}),P.forEach(function(t){t.similarity=+t.similarity,t.id_compared=+t.id_compared,t.id_selected=+t.id_selected}),Y.forEach(function(t){t.skill_id=+t.skill_id}),Q.forEach(function(t){t.id_selected=+t.id_selected,t.imp=+t.imp,t.skill_id=+t.skill_id,t.rank=+t.rank}),function(t,e){G.forEach(function(t){e[t.id]=t.job_name})}(0,W),function(t,e){G.forEach(function(t){e[t.id]=t.number})}(0,K),function(t,e){G.forEach(function(t){e[t.id]=t.auto})}(0,q),function(t,e){G.forEach(function(t){e[t.id]=t.wage})}(0,J),function(t,e){Y.forEach(function(t){return e[t.skill_id]=t.skill})}(0,U),function(){tt.at("height"),g=c<700;var t=tt.at("height");x=.9*t,v=.15625*t,r=t/2,b=d3.scaleLinear().domain([0,1]).range([0+v,x]),et=ot(L),l=r-(i=.8*r),o=r-(a=.6*r)}(),O.radiusScale=d3.scaleSqrt().domain([0,d3.max(G,function(t){return t.wage})]).range([2,8]),O.colorScale=d3.scaleLinear().domain(nt).range(it),O=O,function(t,e){tt.on("click",function(){}),A=tt.select("g.intro-x-axis");var n=tt.append("g.least-similar-annotation similarity-annotation"),c=tt.append("g.most-similar-annotation similarity-annotation"),u=n.append("line"),f=c.append("line"),m=n.append("text"),x=c.append("text");F=tt.selectAll("g.similarity-annotation"),m.text(W[t[0].id_compared]),x.text(W[e[0].id_compared]).st("text-anchor","end"),n.at("transform",function(e){return"translate("+et(t[0].similarity)+","+i+")"}),c.at("transform",function(t){return"translate("+et(e[0].similarity)+","+a+")"}),u.at("x1",0).at("y1",0).at("x2",0).at("y2",l).st("stroke-width",1).st("stroke","black"),f.at("x1",0).at("y1",0).at("x2",0).at("y2",o).st("stroke-width",1).st("stroke","black"),C=tt.append("text.axis-label similarity"),s=1.1*r,C.at("x",function(){return g?(y+p)/2:d/2}).at("y",s).text("SKILL SIMILARITY").st("text-anchor","middle"),E=tt.append("text.axis-label max-similarity"),T=tt.append("text.axis-label min-similarity"),E.at("x",p).at("y",s).text("→ SIMILAR").st("text-anchor","middle"),T.at("x",y).at("y",s).text("DIFFERENT ←").st("text-anchor","middle"),n.st("opacity",0),c.st("opacity",0),E.st("opacity",0),T.st("opacity",0),C.st("opacity",0),z=tt.selectAll(".axis-label");var v=d3.format(".0%");_=d3.axisLeft(b).ticks(4).tickFormat(v),k=tt.append("g.scatter-y-axis").attr("transform","translate("+y+",0)").call(_).st("opacity",0),(w=tt.append("text.scatter-label-y-axis")).at("transform","translate("+y/3+","+r+") rotate(270)").st("opacity",0).text("AUTOMATABILITY LIKELIHOOD"),N=d3.select("figure.svg-container").append("div.jobTooltip").on("click",ut),d3.select("div.job-selected-name").on("click",ut),N.append("div.job-compared-number").on("click",ut),N.append("div.job-compared-name").on("click",ut);var h=(R=N.append("div.job-skills-container")).append("div.tooltip-section-names").on("click",ut);h.append("div.section-name-skills").text("SKILL").on("click",ut),h.append("div.section-name-importance").text("IMPORTANCE").on("click",ut),(S=tt.append("g.bisecting-automation-group")).at("transform","translate(0,"+b(q[I])+")"),S.append("line.bisecting-line").at("x1",y).at("y1",0).at("x2",p).at("y2",0),S.append("text.bisecting-line-label-background").text("TRUCKERS"),S.append("text.bisecting-line-label").text("TRUCKERS"),S.st("opacity",0),d3.selectAll("div.section__scene").st("padding-bottom",function(t,e){return e>12?"5vh":"100vh"})}(f,m),function(t,e){var n=[{value:1.1,label:"10"},{value:1.25,label:"25"},{value:2,label:"100"},{value:5,label:"400%"}],i=[{size:1e4,label:"10K"},{size:1e5,label:"500K"},{size:1e6,label:"1M"}];(D=tt.append("g.legend__wages")).at("transform","translate("+.75*d+","+v/6+")");var a=D.append("text.legend-wages__title"),l=D.selectAll("g.legend-wages__category").data(n).enter().append("g.legend-wages__category"),o=g?d/15:d/40,r=v/10,s=t(1e6);l.at("transform",function(t,e){return"translate("+(g?e*o-o:e*o)+","+s+")"}),l.append("rect.legend-wages__rectangle").at("width",o).at("height",v/10).st("fill",function(t){return e(t.value)});var c=3*r;l.append("text.legend-wages__text-annotation").text(function(t){return t.label}).at("y",c).at("x",o).st("text-anchor",function(t,e){return 3===e?"start":"middle"}),D.append("text.legend-wages__zero").text("1%").at("y",c+s).at("x",function(t,e){if(g)return-o});var u=g?n.length/2*o-o:n.length/2*o;a.text("SALARY INCREASE %").at("x",u),(M=tt.append("g.legend-job-number")).at("transform","translate("+y+","+v/6+")");var p=M.selectAll("g.legend-job-number__category").data(i).enter().append("g.legend-job-number__category");p.at("transform",function(e,n){return"translate("+4*n*t(1e6)+","+t(1e6)+")"}),p.append("circle.legend-job-number__circle").at("r",function(e){return t(e.size)}).st("fill","#FFF").st("stroke","#C6C6C6"),p.append("text.legend-job-number__text").text(function(t){return t.label}).at("y",2*t(1e6));var f=4*Math.round((i.length-1)/2)*t(1e6),m=M.append("text.job-number-title-background"),b=M.append("text.job-number-title");m.text("JOBS IN 2026").at("x",f).st("stroke","#FFF").st("stroke-width","1px"),b.text("JOBS IN 2026").at("x",f),M.st("opacity",0),D.st("visibility","hidden")}(O.radiusScale,O.colorScale),function(){(B=d3.select("div.job-selector__container").append("select")).at("class","job-selector__dropdown").st("opacity",0),G.sort(st);var t=B.selectAll("option.job-selector__job-button").data(G).enter().append("option.job-selector__job-button").at("value",function(t){return t.id});B.insert("option",":first-child").at("selected","selected").text("Pick another job"),t.text(function(t){return t.job_name}),$(".job-selector__dropdown").chosen({placeholder_text_single:"Select another job"}).on("change",ct)}(),(h=R.selectAll("div.job-bar-container").data(V).enter().append("div.bar-container")).append("div.job-bar-name").data(V).enter(),(H=h.append("div.job-data-container")).append("div.job-bar-box").append("div.job-bar").data(V).enter(),H.append("div.job-bar-value").data(V).enter(),(j=tt.selectAll("circle.job").data(L).enter().append("circle.job")).at("cx",function(t){return et(t.similarity)}).at("cy",r).st("fill","white").st("stroke","black").st("stroke-width",.5).st("opacity",0).at("r","3").on("mouseenter",dt).on("click",dt).on("mouseleave",ut),function(){var t={},e={},n={},i={},a={},l=q[218],o=q[445],r=(q[161],q[125]),s=q[187],c=q[194],u=L.filter(function(t){return 218==+t.id_compared}),d=L.filter(function(t){return 445==+t.id_compared}),p=(L.filter(function(t){return 161==+t.id_compared}),L.filter(function(t){return 125==+t.id_compared})),f=L.filter(function(t){return 187==+t.id_compared}),y=L.filter(function(t){return 194==+t.id_compared});t.xCoord=et(+u[0].similarity),e.xCoord=et(+d[0].similarity),n.xCoord=et(p[0].similarity),i.xCoord=et(f[0].similarity),a.xCoord=et(y[0].similarity),b.domain([0,1]),e.yCoord=b(+o),b.domain([0,.79]),t.yCoord=b(+l),n.yCoord=b(r),i.yCoord=b(s),a.yCoord=b(c);var g=[{note:{title:"Ambulance Drivers",wrap:100,align:"middle"},connector:{end:"arrow"},x:t.xCoord,y:t.yCoord,dx:5,dy:-40}],m=[{note:{title:"Sailors",wrap:100,align:"middle"},connector:{end:"arrow"},x:e.xCoord,y:e.yCoord,dx:0,dy:-40}],x=[{note:{title:"Ship Engineers",wrap:100,align:"middle"},connector:{end:"arrow"},x:n.xCoord,y:n.yCoord,dx:0,dy:-15}],v=[{note:{title:"Electricians",wrap:100,align:"middle"},connector:{end:"arrow"},x:i.xCoord,y:i.yCoord,dx:30,dy:-30}],h=[{note:{title:"Construction Supervisors",wrap:100,align:"middle"},connector:{end:"arrow"},x:a.xCoord,y:a.yCoord,dx:30,dy:30}],k=d3.annotation().type(d3.annotationCallout).annotations(g),_=d3.annotation().type(d3.annotationCallout).annotations(m),A=d3.annotation().type(d3.annotationCallout).annotations(x),w=d3.annotation().type(d3.annotationCallout).annotations(v),j=d3.annotation().type(d3.annotationCallout).annotations(h);tt.append("g").attr("class","anno-group-ambulance anno-group").call(k),tt.append("g").attr("class","anno-group-sailors anno-group").call(_),tt.append("g").attr("class","anno-group-shipengineers anno-group").call(A),tt.append("g").attr("class","anno-group-electricians anno-group anno-group-final").call(w),tt.append("g").attr("class","anno-group-supervisors anno-group anno-group-final").call(j),tt.selectAll("g.anno-group").st("opacity",0)}(),t(Q)}var h,H}]))})},updateStep:function(t){if("x-axis-base"===t)tt.selectAll("g.annotation-group-stacked").st("opacity",0),tt.selectAll("g.anno-group").st("opacity",0),F.classed("invisible",!1),A.classed("invisible",!0),j.on("mouseenter",dt).on("click",dt).on("mouseleave",ut),d3.selectAll("span.secondary-title").st("display","inline"),d3.select(".chart-title-pt1").text("What should"),d3.select(".chart-title-pt2").text("1,871,700").classed("red-text",!1),d3.select(".chart-title-pt3").text("truckers"),d3.select(".chart-title-pt4").text("earning").classed("blue-text",!1),d3.select(".chart-title-pt5").text("$43,590"),d3.select(".chart-title-pt6").text("yearly, transition to?"),tt.selectAll("g.annotation-group-different").st("visibility","hidden"),tt.selectAll("g.annotation-group-similar").st("visibility","hidden"),tt.selectAll("g.skill-section__two-jobs").transition().st("opacity",0),tt.selectAll("g.all-jobs").transition().st("opacity",0),tt.selectAll("g.trucker-developer-groups").classed("invisible",!0),tt.selectAll("circle.job").classed("invisible",!1),tt.selectAll("g.similarity-annotation").classed("invisible",!1),Z.selectAll(".misc-elements").st("visibility","visible"),Z.selectAll(".job-selector__container").st("visibility","hidden"),Z.select("img.images-many-jobs-many-skills").st("display","none"),tt.st("display","block"),H.cy=function(){return r},H.r=function(){return 3},H.fill=function(){return"#FFF"},H.yScale=function(){b.domain([0,1])},H.opacityCircles=function(){return 1},H.opacityAnnotations=function(){return 0},H.yScale(),j.transition().at("cy",H.cy).at("r",H.r).st("fill",H.fill).st("opacity",H.opacityCircles),tt.selectAll("g.similarity-annotation").transition().st("opacity",H.opacityCircles),k.st("opacity",H.opacityAnnotations),w.transition().st("opacity",H.opacityAnnotations),S.transition().st("opacity",H.opacityAnnotations),z.transition().st("opacity",1).at("y",s);else if("xy-axis-scatter"===t){tt.selectAll("g.similarity-annotation").st("opacity",0),tt.selectAll("g.annotation-group-stacked").st("opacity",0),tt.selectAll("g.anno-group").st("opacity",0),tt.selectAll("g.anno-group-sailors").st("opacity",1),F.classed("invisible",!0),b.domain([0,1]),k.transition().call(_);var e=1.05*x;k.transition().st("opacity",1),w.transition().st("opacity",1),tt.selectAll("text.axis-label").transition().at("y",e),j.classed("invisible",!1).transition().at("cy",function(t){return b(q[t.id_compared])}).st("opacity",1),S.transition().st("opacity",H.opacityCircles).at("transform","translate(0,"+b(q[I])+")")}else"xy-axes-scatter"===t?(tt.selectAll("g.annotation-group-stacked").st("opacity",0),tt.selectAll("g.anno-group").st("opacity",0),tt.selectAll("g.anno-group-ambulance").st("opacity",1),j.classed("invisible",!1),F.classed("invisible",!0),b.domain([0,.79]),k.transition().call(_),S.transition().at("transform","translate(0,"+b(q[I])+")").st("opacity",0),j.transition().st("opacity",function(t){return+q[t.id_compared]>+q[t.id_selected]?0:1}).at("cy",function(t){return b(q[t.id_compared])}).st("fill","#FFF").at("r",3),D.st("visibility","hidden")):"xy-axes-scatter-filtered"===t?(tt.selectAll("g.legend__wages").st("opacity",1),tt.selectAll("g.annotation-group-stacked").st("opacity",0),tt.selectAll("g.anno-group").st("opacity",0),tt.selectAll("g.anno-group-shipengineers").st("opacity",1),j.classed("invisible",!1),F.classed("invisible",!0),M.transition().st("opacity",0),D.transition().st("visibility","visible"),j.transition().at("r",3).st("fill",function(t){var e=J[t.id_selected],n=J[t.id_compared]/e;return O.colorScale(n)}).st("opacity",function(t){return J[t.id_selected]<J[t.id_compared]&&q[t.id_selected]>q[t.id_compared]?1:0})):"show-similarity-auto-wage"===t?(tt.selectAll("g.legend__wages").st("opacity",1),tt.selectAll("g.annotation-group-stacked").st("opacity",0),m=!0,tt.selectAll("g.anno-group").st("opacity",0),tt.selectAll("g.anno-group-final").st("opacity",1),"Pick another job"!==Z.select(".job-selector__dropdown").property("value")&&ct(),j=tt.selectAll("circle.job").st("stroke","gray"),B.transition().st("opacity",0),M.transition().st("opacity",1),j.transition().at("r",function(t){var e=K[t.id_compared];return O.radiusScale(e)}),Z.selectAll(".job-selector__container").st("visibility","hidden")):"show-similarity-auto-wage-number"===t?(tt.selectAll("g.legend__wages").st("opacity",1),tt.selectAll("g.annotation-group-stacked").st("opacity",0),tt.selectAll("g.anno-group").st("opacity",0),m=!1,Z.selectAll(".job-selector__container").st("visibility","visible"),B.transition().st("opacity",1)):"show-similarity-auto-wage-number"===t?d3.select("figure").classed("sticky",!1):"conclusion"===t&&g&&Z.selectAll(".job-selector__container").st("visibility","hidden")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d3.select("svg.scatter"),a=null,l=null,o=null,r=null,s=null,c=20,u=null,d=null,p=null,f=20,y=null,g=null,m=null,b=null,x=null,v=null,h=null,k=null,_=null,A=null,w=null,j=null,S=null,C={},E=null,T=null,F=null,O=!1,D=!1,M=null,P=null,L=null,I=null,N=["devs_and_truckers_skills","Choreographers","Dentists","Nurses","Chiropractors","Farmers","Construction_Managers","Firefighters","Geographers","Embalmers","Pipelayers","Podiatrists","Fabric_Patternmakers","Clergy","Makeup_Artists","Family_Therapists","CEOs","Art_Directors","Interior_Designers","Craft_Artists","Event_Planners","Veterinarians","Writers","Political_Scientists","Ship_Engineers","Paramedics","Mathematicians","Florists","Travel_Guides","News_Analysts","Musicians","Fitness_Trainers","Graphic_Designers","Childcare_Workers","Police_Officers","Hairdressers","Journalists","Air_Traffic_Controllers","Dancers","Optometrists","Physician_Assistants","Electricians","Ambulance_Drivers","Athletes","Skincare_Specialists","Private_Cooks","Funeral_Attendants","Actors","Judges","Economists","Historians","Dental_Assistants","Cobblers","Massage_Therapists","Millwrights","Librarians","Maids","Bartenders","Dishwashers","Fast_Food_Cooks","Barbers","Real_Estate_Agents","Proofreaders"],R=N.length,B=[];N.forEach(function(t){B.push("assets/data/"+t+".csv")}),e.default={init:function(){return new Promise(function(t,e){var n;(n=d3).loadData.apply(n,B.concat([function(n,f){if(n)e();else{S=f[0];var O=[];!function(t,e){var n=void 0;for(n=1;n<e.length;n++)t.push(e[n])}(O,f),a=window.innerWidth,window.innerHeight,l=a<700,function(t,e){var n=0,i=0;t.forEach(function(t){t.difference=Math.abs(+t.devs-+t.truckers),i%2==0?(t.abrigedNum=n,n+=1):t.abrigedNum=2e3,i+=1}),e.forEach(function(t){t.forEach(function(t){t.difference=Math.abs(+t.job_selected-+t.job_compared)})});var a=void 0,l=0,o=1;for(a=0;a<t.length;a++)t[a].xCoordStacked=l,l+=t[a].difference+o;e.forEach(function(t){for(l=0,o=1,a=0;a<t.length;a++)t[a].xCoordStacked=l,l+=+t[a].difference+o}),w=[].concat.apply([],e);var r=0;(j=(j=d3.nest().key(function(t){return t.job_compared_name}).entries(w)).slice(0,39)).forEach(function(t){t.order=r,r+=1})}(S,O),function(){o=i.at("width"),r=i.at("height"),u=r/(S.length+1),d=r/(j.length+3);var t=l?.98:.7,e=l?o*(t-.1):o*t,n=l?.35*o:(1-t)*o;C.xScale=d3.scaleLinear().domain([0,100]).range([n,e]),C.xScaleRectangle=d3.scaleLinear().domain([0,100]).range([0,e-n]);var a=w.map(function(t){return t.xCoordStacked}),c=d3.max(a),f=l?c/200:c/68;C.xScaleEuclidean=d3.scaleLinear().domain([0,100]).range([0,f]),s=l?10:60,p=l?.5*o:250}(),function(t){M=d3.select("span.chart-title-pt1"),P=d3.select("span.chart-title-pt2"),L=d3.select("span.chart-title-pt3"),I=d3.select("span.chart-title-pt4"),A=i.select("text.example-skill-title"),E=i.selectAll("g.skill-section__two-jobs").data(t).enter().append("g.skill-section__two-jobs").st("opacity",0).at("transform",function(t,e){return"translate("+s+","+(c+e*u)+")"}),T=i.selectAll("g.all-jobs").data(j).enter().append("g").at("class",function(t){return"all-jobs "+t.key}).st("opacity",0),F=T.selectAll("g.skill-item").data(function(t){return t.values}).enter().append("g").at("class",function(t){return"skill-item-"+t.skills.replace(/ /g,"_")}),b=E.append("line.skill-axis"),x=T.append("text.job-name").st("font-weight",function(t){return"Pipelayers"===t.key?600:"CEOs"===t.key?600:400}),v=E.append("rect.skill-difference-axis"),h=F.append("rect.skill-difference-axis-all-jobs"),v.at("x",function(t){return+t.devs>=+t.truckers?C.xScale(+t.truckers):C.xScale(+t.devs)}).at("y","-6").at("width",function(t){return C.xScaleRectangle(t.difference)}).at("height",6).st("fill","#E530BE").st("opacity",0),h.at("x",function(t){return C.xScaleEuclidean(t.xCoordStacked)}).at("width",function(t){return C.xScaleEuclidean(t.difference)}).st("fill","#E530BE").at("transform","translate("+p+","+-7+")").at("height",6).on("mouseenter",function(t){return console.log(t.skills)}),T.at("transform",function(t,e){return"translate(0,"+(60+e*d)+")"}),y=E.append("circle.devs-skill-circle"),g=E.append("circle.truckers-skill-circle"),m=E.append("text.skill-name"),k=i.selectAll(".intro-x-axis"),_=i.selectAll(".trucker-developer-groups")}(S),l||function(){var t={},e={},n=j.filter(function(t){return"Pipelayers"===t.key}),a=j.filter(function(t){return"CEOs"===t.key}),l=(S.filter(function(t){return"Fine Arts"===t.key}),n[0].values.length-1);t.xCoord=p+C.xScaleEuclidean(n[0].values[l].xCoordStacked),e.xCoord=p+C.xScaleEuclidean(a[0].values[l].xCoordStacked),t.yCoord=+n[0].order*d+60,e.yCoord=+a[0].order*d+60;var r=o-.15*o,s=r-e.xCoord,c=r-t.xCoord,u=[{note:{label:"Among these jobs, CEOs and truck drivers have the greatest gap between their skills",title:"Different",wrap:150,align:"middle"},x:e.xCoord,y:e.yCoord,dx:s,dy:40,subject:{radius:15,radiusPadding:5}}],f=[{note:{label:"One of the largest skill overlaps for truck drivers occurs with pipelayers",title:"Similar",wrap:150,align:"middle"},x:t.xCoord,y:t.yCoord,dx:c,dy:-30,subject:{radius:15,radiusPadding:5}}],y=d3.annotation().type(d3.annotationCalloutCircle).annotations(u),g=d3.annotation().type(d3.annotationCalloutCircle).annotations(f);i.append("g").attr("transform","translate(0,0)").attr("class","annotation-group-different annotation-group-stacked").call(y),i.append("g").attr("transform","translate(0,0)").attr("class","annotation-group-similar annotation-group-stacked").call(g)}(),t()}}]))})},updateStep:function(t){if("images-two-jobs-two-skills-developers"===t&&(D=!1),"images-two-jobs-all-skills"===t){i.select("g.legend__wages").st("opacity",0),i.selectAll("g.legend-job-number").st("opacity",0),i.selectAll("g.annotation-group-stacked").st("opacity",0),i.selectAll("g.anno-group").st("opacity",0),i.selectAll("text.axis-label").st("opacity",0),i.selectAll("g.trucker-developer-groups").st("opacity",0),i.selectAll("circle.job").classed("invisible",!0),i.selectAll("g.similarity-annotation").classed("invisible",!0),k.classed("invisible",!1);var e=d3.axisTop(C.xScale).ticks(1).tickFormat(function(t){return t+"%"});k.transition().duration(400).call(e).at("transform",function(t,e){return"translate("+s+","+(c+0*u)+")"}),k.selectAll(".intro-x-axis .tick line").st("opacity",0),A.st("opacity",0).classed("invisible",!0),M.text("Importance of skills for "),P.text("truckers ").classed("red-text",!0).st("display","inline-block"),L.text("and ").st("display","inline-block"),I.text("developers").classed("blue-text",!0).st("display","inline-block"),d3.select(".chart-title-div").st("visibility","visible"),v.transition().duration(250).st("opacity",0),y.transition().delay(function(){return!0===D?250:400}).duration(function(t,e){return!0===D?200:e*f}).st("opacity",1),g.transition().delay(function(){return!0===D?250:400}).duration(function(t,e){return!0===D?200:e*f}).st("opacity",1),_.st("opacity",0),y.at("cx",function(t){return C.xScale(t.devs)}).at("cy",-1).at("r",5).on("mouseenter"),g.at("cx",function(t){return C.xScale(t.truckers)}).at("cy",-1).at("r",5),E.at("transform",function(t,e){return"translate("+s+","+(c+e*u)+")"}).transition().delay(function(){return!1===D?400:0}).duration(function(t,e){return e*f}).st("opacity",1),m.text(function(t){return l?t.skills.slice(0,12)+"...":t.skills}).st("text-anchor","right").st("opacity",function(t,e){return e%2==0?1:.1}),b.at("x1",function(){return C.xScale(0)}).at("y1",-1).at("x2",function(){return C.xScale(100)}).at("y2",-1).at("stroke-width",1).st("stroke","black").st("opacity",function(t,e){return"Programming"===t.skills?0:1}),x.at("transform","translate("+s+",0)").text(function(t){return t.key.replace(/_/g," ")}).st("text-anchor","right").st("opacity",0),k.selectAll(".intro-x-axis .tick text").st("font-size","12px").st("opacity",1).at("y",0),D=!0}else if("images-two-jobs-highlight-skill-differences"===t){i.select("g.legend__wages").st("opacity",0),i.selectAll("g.legend-job-number").st("opacity",0),i.selectAll("g.annotation-group-stacked").st("opacity",0),i.selectAll("g.anno-group").st("opacity",0),i.selectAll("text.axis-label").st("opacity",0),i.selectAll("g.trucker-developer-groups").st("opacity",0),i.selectAll("circle.job").classed("invisible",!0),i.selectAll("circle.job").classed("invisible",!0),i.selectAll("g.similarity-annotation").classed("invisible",!0),k.classed("invisible",!1),A.classed("invisible",!0);var n=R*f*.6;k.transition().delay(n).st("opacity",1),d3.selectAll(".secondary-title-stacking").st("display","none"),M.text("Skill differences between truckers & developers"),i.selectAll("g.annotation-group-different").transition().st("visibility","hidden"),i.selectAll("g.annotation-group-similar").transition().st("visibility","hidden"),E.st("opacity",1).transition().delay(function(){return!0===O?n:0}).at("transform",function(t,e){return"translate("+s+","+(c+e*u)+")"}),m.transition().delay(function(){return!0===O?n:0}).text(function(t){return l?t.skills.slice(0,12)+"...":t.skills}).st("text-anchor","right").st("opacity",function(t,e){return e%2==0?1:.1}).at("transform","translate(0,0)"),b.at("x1",function(){return C.xScale(0)}).at("y1",-3).at("x2",function(){return C.xScale(100)}).at("y2",-3).at("stroke-width",1).st("stroke","black").transition().delay(function(){return!0===O?n:0}).st("opacity",function(t,e){return"Programming"===t.skills?0:1}),x.text(function(t){return t.key.replace(/_/g," ")}).st("text-anchor","right").transition().duration(function(t,e){return R*f-e*f}).st("opacity",0),v.transition().delay(function(){return!0===O?n:250}).duration(500).st("opacity",1).at("x",function(t){return+t.devs>=+t.truckers?C.xScale(+t.truckers):C.xScale(+t.devs)}).at("y",-6).at("width",function(t){return C.xScaleRectangle(t.difference)}).at("height",6).at("transform","translate(0,0)").st("fill","#E530BE"),y.transition().st("opacity",0),g.transition().st("opacity",0),T.transition().duration(function(t,e){return R*f-e*f}).st("opacity",0),O=!1}else if("images-two-jobs-stacked-skills"===t){i.selectAll("g.annotation-group-stacked").st("opacity",1),i.select("g.legend__wages").st("opacity",0),i.selectAll("g.legend-job-number").st("opacity",0),i.selectAll("g.anno-group").st("opacity",0),i.selectAll("text.axis-label").st("opacity",0),i.selectAll("g.trucker-developer-groups").st("opacity",0),i.selectAll("g.similarity-annotation").classed("invisible",!0),k.classed("invisible",!1),A.classed("invisible",!0),k.st("opacity",0),i.selectAll("g.similarity-annotation").st("opacity",0),d3.selectAll("span.secondary-title-remaining").st("display","none"),i.selectAll(".axis-label").st("opacity",0),i.selectAll("circle.job").classed("invisible",!0).st("opacity",0).on("mouseenter",function(){}),d3.selectAll("span.secondary-title-stacking").st("display","none"),M.transition().text("Skills differences between truckers & other jobs"),O=!0,b.transition().st("opacity",0),y.transition().st("opacity",0),g.transition().st("opacity",0),T.at("transform",function(t,e){return"translate(0,"+(60+e*d)+")"}).transition().delay(450).duration(function(t,e){return e*f}).st("opacity",1),x.transition().delay(450).st("opacity",1),m.transition().st("opacity",0).text(function(t,e){return e===S.length-1?"Developers":""}).at("transform","translate("+s+",0)").transition().st("opacity",1),v.transition().duration(500).at("x",function(t){return C.xScaleEuclidean(t.xCoordStacked)}).at("width",function(t){return C.xScaleEuclidean(t.difference)}).at("transform",function(t,e){return"translate("+p+",0)"}).at("height",6);var a=60-d;E.transition().delay(function(t,e){return 3.67647059*e}).st("opacity",1).at("transform",function(){return"translate(0,"+a+")"}),v.on("mouseenter",function(t){return console.log(t.skills)}),i.selectAll("g.annotation-group-different").transition().delay(450).st("visibility","visible"),i.selectAll("g.annotation-group-similar").transition().delay(450).st("visibility","visible")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[{job:"Truckers",automatability:.79,skillDeveloperScore:3,skillDeveloperName:"Programming",fill:"blue",skillTruckerScore:72,skillTruckerName:"Multilimb Coordination"},{job:"Developers",automatability:.04,skillDeveloperScore:75,skillDeveloperName:"Programming",fill:"magenta",skillTruckerScore:0,skillTruckerName:"Multilimb Coordination"},{job:"Teachers",automatability:0,skillDeveloperScore:"",skillDeveloperName:"",fill:"",skillTruckerScore:"",skillTruckerName:""},{job:"Telemarketers",automatability:1,skillDeveloperScore:"",skillDeveloperName:"",fill:"",skillTruckerScore:"",skillTruckerName:""}],a=null,l=null,o=null,r=null,s=null,c=d3.select("body").select("figure.svg-container"),u=c.select("svg.scatter"),d=20,p=3,f=null,y=null,g=null,m=null,b={},x=null,v=null,h=null,k=null,_=null,A=null,w=null,j=null,S=null,C=null,E=null,T=null,F=null,O=!1;e.default={init:function(){return new Promise(function(t,e){var n,c;n=i,u.append("defs").selectAll("pattern").data(n).enter().append("pattern").at("width",2*d).at("height",2*d).at("id",function(t){return t.job.replace(/ /g,"_")+"-img"}).append("image").at("width",2*d).at("height",2*d).at("x",0).at("y",0).at("xlink:href",function(t){return"assets/data/circle-images/"+t.job.replace(/ /g,"_")+".png"}),l=u.at("width"),o=u.at("height"),f=window.innerWidth,y=window.innerHeight,a=f<700,r=.9,s=.8,c=document.getElementById("misc-chart-elements-container").offsetHeight,x=(y-c)*s,v=l*r,k=(1-r)*l,_=(1-s)*o,b.yScale=d3.scaleLinear().domain([0,1]).range([0+_,x]),b.xScale=d3.scaleLinear().domain([0,100]).range([0+k,v]),m=l/2,function(){!function(){var t=d3.format(".0%"),e=d3.format("d"),n=d3.axisLeft(b.yScale).ticks(1).tickFormat(t),i=d3.axisTop(b.xScale).ticks(1).tickFormat(e),a=m,l=b.yScale(.5);g=u.append("g.intro-y-axis").attr("transform","translate("+a+",0)").call(n).style("opacity",1),(j=u.append("g.intro-x-axis").attr("transform","translate(0,"+l+")").call(i).style("opacity",0)).select("path.domain").at("transform","translate(0,"+-p/2+")"),u.append("text.y-axis-label.min").at("x",m).at("y",_/2).st("fill","#2F80ED").st("text-anchor","middle").text("SAFE JOBS"),u.append("text.y-axis-label.title-background").at("transform","translate("+1.01*m+","+o/2+") rotate(270)").st("stroke","#FFFFFF").st("stroke-width",11).st("text-anchor","middle").text("AUTOMATION LIKELIHOOD %"),u.append("text.y-axis-label.title").at("transform","translate("+1.01*m+","+o/2+") rotate(270)").st("fill","#6f6f6f").st("text-anchor","middle").text("AUTOMATION LIKELIHOOD %"),u.append("text.y-axis-label.max").at("x",m).at("y",x+_/2).st("fill","#EB5757").st("text-anchor","middle").text("ENDANGERED JOBS")}();var t=b.yScale(.35);F=u.append("text.example-skill-title").at("x",m).at("y",t).text("Importance of skill: programming");var e=u.selectAll("circle.jobs-circles").data(i).enter();w=e.append("g.trucker-developer-groups"),A=w.append("circle.intro-jobs-circles");var n=w.append("text.intro-automatability-values");S=w.append("text.intro-job-names");var a=w.append("text.intro-job-skill-values");n.text(function(t){return 100*t.automatability+"%"}),S.text(function(t){return t.job}),a.text(function(t){return t.skillTruckerScore}),w.at("transform",function(t){return"translate("+m+","+ +b.yScale(t.automatability)+")"}).style("opacity",function(t){return"Teachers"===t.job||"Telemarketers"===t.job?1:0}),a.style("opacity",0),C=4*d,T=(E=2*d)/10,A.at("cx",E).at("r",d).st("fill","#2F80ED").st("fill",function(t){return"url(#"+t.job.replace(/ /g,"_")+"-img)"}),S.at("x",C).at("y",T).st("text-anchor","right"),n.at("x",-E).at("y",T).st("text-anchor","left"),h=d3.axisTop(b.xScale).ticks(1).tickFormat(function(t){return t+"%"})}(),t()})},updateStep:function(t){if("all-automation"===t)w.transition().style("opacity",function(t){return"Truckers"===t.job||"Developers"===t.job?0:1}).at("transform",function(t){return"translate("+m+","+ +b.yScale(t.automatability)+")"}),u.select("g.intro-y-axis").selectAll("g.tick").selectAll("text").transition().style("opacity","0");else if("main-job-circle"===t)u.selectAll("g.anno-group").st("opacity",0),u.selectAll("text.axis-label").st("opacity",0),w.transition().style("opacity",function(t){return"Truckers"===t.job?1:0}).at("transform",function(t){return"translate("+m+","+ +b.yScale(t.automatability)+")"}),u.select("g.intro-y-axis").selectAll("g.tick").selectAll("text").transition().style("opacity","1");else if("main-job-automation"===t)u.select("g.legend__wages").st("opacity",0),u.selectAll("g.anno-group").st("opacity",0),u.selectAll("text.axis-label").st("opacity",0),u.selectAll("g.all-jobs").st("opacity",0),u.selectAll("g.bisecting-automation-group").st("opacity",0),u.selectAll("g.similarity-annotation").st("opacity",0),u.selectAll("g.skill-section__two-jobs").st("opacity",0),u.selectAll("g.scatter-y-axis").st("opacity",0),F.transition().style("opacity",0),S.at("x",C).at("y",T).st("text-anchor","right"),u.selectAll("text.y-axis-label").transition().style("opacity",1),u.selectAll(".intro-automatability-values").transition().style("opacity",1),j.transition().style("opacity",0),u.st("display","block"),g.style("opacity",1),w.transition().style("opacity",function(t){return"Truckers"===t.job||"Developers"===t.job?1:0}).at("transform",function(t){return"translate("+m+","+ +b.yScale(t.automatability)+")"}),c.select("img.images-two-jobs-two-skills").st("display","none"),O=!1;else if("images-two-jobs-two-skills-developers"===t){u.select("g.legend__wages").st("opacity",0),u.selectAll("g.anno-group").st("opacity",0),u.selectAll("text.axis-label").st("opacity",0),u.selectAll("g.all-jobs").st("opacity",0),u.selectAll("g.similarity-annotation").st("opacity",0),u.selectAll("g.scatter-y-axis").st("opacity",0),u.selectAll("g.skill-section__two-jobs").st("opacity",0),u.selectAll("g.bisecting-automation-group").st("opacity",0);var e=u.selectAll("g.skill-section__two-jobs").size();F.classed("invisible",!1).transition().delay(function(){return!0===O?800:0}).style("opacity",1),d3.select(".chart-title-div").transition().st("visibility","hidden"),u.selectAll("g.trucker-developer-groups").classed("invisible",!1),S.at("x",0).at("y",E).st("text-anchor","start"),u.selectAll(".skill-section__two-jobs").transition().duration(function(t,n){return!0===O?15*e-15*n:250}).style("opacity",0);var n=b.yScale(.5);u.selectAll("text.y-axis-label").transition().style("opacity",0),u.selectAll(".intro-automatability-values").transition().style("opacity",0),d3.format("d"),j.transition().delay(function(){return!0===O?400:0}).duration(400).call(h).style("opacity",1).at("transform",function(){return"translate(0,"+n+")"}),j.selectAll(".intro-x-axis .tick text").at("y",0),j.selectAll("g.tick").selectAll("text").transition().st("text-anchor",function(t,e){return 0===t?"end":"start"}).at("y",function(){return 0}).at("x",function(t,e){return 0===t?-2:2}).at("y",0).st("font-size",function(){return a?12:16}),g.transition().style("opacity",0),w.transition().delay(function(){return!0===O?800:0}).at("transform",function(t){return"translate("+b.xScale(t.skillDeveloperScore)+","+n+")"}).style("opacity",function(t){return"Truckers"===t.job||"Developers"===t.job?1:0}),u.selectAll("g.skill-section").transition().style("opacity",0),O=!0}else if("images-two-jobs-two-skills"===t){u.selectAll("g.all-jobs").st("opacity",0),u.selectAll("g.similarity-annotation").st("opacity",0),u.selectAll("g.scatter-y-axis").st("opacity",0),u.selectAll("g.skill-section__two-jobs").st("opacity",0),u.selectAll("g.bisecting-automation-group").st("opacity",0);var i=b.yScale(.5);u.selectAll("text.y-axis-label").transition().style("opacity",0),u.selectAll(".intro-automatability-values").transition().style("opacity",0),j.transition().style("opacity",1).at("transform",function(){return"translate(0,"+i+")"}),g.transition().style("opacity",0),w.transition().at("transform",function(t){return"translate("+b.xScale(t.skillTruckerScore)+","+i+")"})}else"images-two-jobs-many-skills"===t?(u.selectAll("g.similarity-annotation").st("opacity",0),u.selectAll("g.similarity-annotation").classed("invisible",!0),c.select("img.images-two-jobs-two-skills").st("display","none"),c.select("img.images-two-jobs-stacked-skills").st("display","none"),c.select("img.images-two-jobs-many-skills").st("display","block").st("visibility","visible")):"images-two-jobs-all-skills"===t&&(O=!0)}}},function(t,e,n){"use strict";var i,a;void 0===(a="function"==typeof(i=function(){return function(t){function e(){f=!1;var t=function(){if(c&&"number"==typeof c){var t=Math.min(Math.max(0,c),1);return g-t*g}return g}();(y=y.filter(function(e){var n=e.getBoundingClientRect().top<t;if(n&&!e.__enter_view){if(o(e),d)return!1}else!n&&e.__enter_view&&r&&r(e);return e.__enter_view=n,!0})).length||window.removeEventListener("scroll",n,!0)}function n(){f||(f=!0,p(e))}function i(){var t,n;t=document.documentElement.clientHeight,n=window.innerHeight||0,g=Math.max(t,n),e()}function a(t){for(var e=t.length,n=[],i=0;i<e;i+=1)n.push(t[i]);return n}var l=t.selector,o=t.enter,r=t.exit,s=t.offset,c=void 0===s?0:s,u=t.once,d=void 0!==u&&u,p=null,f=!1,y=[],g=0;l&&o||console.error("must set selector and enter options"),p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof t?a(e.querySelectorAll(t)):t instanceof NodeList?a(t):t instanceof Array?t:void 0}(l),window.addEventListener("resize",i,!0),window.addEventListener("scroll",n,!0),i(),e()}})?i.call(e,n,e,t):i)||(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(3)),a=r(n(2)),l=r(n(1)),o=r(n(0));function r(t){return t&&t.__esModule?t:{default:t}}var s=window.innerWidth,c=window.innerHeight,u=s<700;function d(t){var e=d3.select("[data-index='"+t+"']").attr("data-step");a.default.updateStep(e),l.default.updateStep(e),o.default.updateStep(e)}function p(){(0,i.default)({selector:".section__scene",offset:-.05,enter:function(t){d(+d3.select(t).attr("data-index"))},exit:function(t){var e=+d3.select(t).attr("data-index");d(e=Math.max(0,e-1))}})}e.default={init:function(){var t=(1-.9)/2*s+(u?10:60),e=d3.select("body").select("figure.svg-container").select("svg.scatter");d3.select(".chart-title-div").st("padding-left",t);var n=document.getElementById("misc-chart-elements-container").offsetHeight,i=c-n;e.at("height",i).at("width",.9*s).st("fill","#00000"),d3.select("svg.scatter").at("height"),d3.select("img.images-two-jobs-two-skills").st("width",s*(.9-.3)),d3.select("img.images-two-jobs-many-skills").st("width",s*(.9-.3)),d3.select("img.images-two-jobs-stacked-skills").st("width",s*(.9-.3)),d3.select("img.images-many-jobs-many-skills").st("width",s*(.9-.3)),a.default.init().then(function(){p()}).catch(function(t){console.log(t)}),l.default.init().then(function(){p()}).catch(function(t){console.log(t)}),o.default.init().then(function(){p()}).catch(function(t){console.log(t)})},resize:function(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.android()||i.blackberry()||i.ios()||i.opera()||i.windows()}};e.default=i},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){var n=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),p=Object.prototype.toString,f=Math.max,y=Math.min,g=function(){return d.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==i}(t))return n;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var c=o.test(t);return c||r.test(t)?s(t.slice(2),c?2:8):l.test(t)?n:+t}t.exports=function(t,e,n){var i,a,l,o,r,s,c=0,u=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function x(e){var n=i,l=a;return i=a=void 0,c=e,o=t.apply(l,n)}function v(t){var n=t-s;return void 0===s||n>=e||n<0||d&&t-c>=l}function h(){var t=g();if(v(t))return k(t);r=setTimeout(h,function(t){var n=e-(t-s);return d?y(n,l-(t-c)):n}(t))}function k(t){return r=void 0,p&&i?x(t):(i=a=void 0,o)}function _(){var t=g(),n=v(t);if(i=arguments,a=this,s=t,n){if(void 0===r)return function(t){return c=t,r=setTimeout(h,e),u?x(t):o}(s);if(d)return r=setTimeout(h,e),x(s)}return void 0===r&&(r=setTimeout(h,e)),o}return e=b(e)||0,m(n)&&(u=!!n.leading,l=(d="maxWait"in n)?f(b(n.maxWait)||0,e):l,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==r&&clearTimeout(r),c=0,i=s=a=r=void 0},_.flush=function(){return void 0===r?o:k(g())},_}}).call(this,n(6))},function(t,e,n){"use strict";var i=o(n(7)),a=o(n(5)),l=o(n(4));function o(t){return t&&t.__esModule?t:{default:t}}var r=d3.select("body"),s=0;r.classed("is-mobile",a.default.any()),window.addEventListener("resize",(0,i.default)(function(){var t=r.node().offsetWidth;s!==t&&(s=t,l.default.resize())},150)),l.default.init()}]);