{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=8)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=null,a=null,r=null,l=null,o=null,s=null,c=window.innerWidth,u=window.innerHeight,d=null,f=null,p=null,y=!1,m=null,g=null,b=null,x=d3.scaleLinear().domain([0,100]),v=null,h=null,k=null,_=null,w=null,j=null,A=null,S=null,E={},C=null,T=null,F=null,O=null,L=415,P=null,M=null,D=null,I=null,N={cx:\"\",cy:\"\",r:\"\",fill:\"\",yScale:\"\",opacityCircles:\"\",opacityAnnotations:\"\"},R={},B={},H={},z={},K={},W=null,J=null,U=[0,0,0,0,0],q=[],G=[];[\"crosswalk_jobs\",\"similarity\",\"crosswalk_skills\",\"skills\"].forEach(function(t){G.push(\"assets/data/\"+t+\".csv\")});var Y=d3.select(\"figure.svg-container\"),V=Y.select(\"svg.scatter\"),Q=null,X=[.2,.5,.75,.9,1.1,1.25,2,5],Z=[\"#a50026\",\"#d73027\",\"#f46d43\",\"#fee090\",\"#e0f3f8\",\"#74add1\",\"#4575b4\",\"#313695\"];function tt(t){return t.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\")}function et(t,e){return t.filter(function(t){return+t.id_selected==+e}).filter(function(t){return+t.id_compared!=+t.id_selected})}function nt(t){var e=d3.select(\"svg.scatter\").at(\"width\"),n=.9*e,i=(1-.9)*e;return d3.scaleLinear().domain(d3.extent(t,function(t){return t.similarity})).range([0+i,n])}function it(t,e){return t.imp<e.imp?1:t.imp>e.imp?-1:0}function at(){var t;t=!0===y?415:Y.select(\".job-selector__dropdown\").property(\"value\");var e=et(F,t),n=e[0].id_selected;console.log(\"selected job id: \"+t),console.log(\"updated data \"+e),console.log(\"current job \"+n),console.log(\"current job auto \"+H[t]);var i=nt(e),a=Y.select(\"div.chart-title-div\");a.select(\".chart-title-pt2\").text(tt(B[n])),a.select(\".chart-title-pt3\").text(R[n]),a.select(\".chart-title-pt5\").text(\"$\"+tt(z[n])),m.domain([0,H[n]]),v.transition().call(h);var r=d3.select(\"svg.scatter\");r.selectAll(\"circle.job\").remove();var l=r.selectAll(\"circle.job\").data(e).enter().append(\"circle.job\");l.at(\"cx\",function(t){return i(t.similarity)}).at(\"cy\",function(t){return m(H[t.id_compared])}).st(\"fill\",function(t){var e=z[t.id_selected],n=z[t.id_compared]/e;return E.colorScale(n)}).st(\"opacity\",function(t){return z[t.id_selected]<z[t.id_compared]&&H[t.id_selected]>H[t.id_compared]?1:0}).at(\"r\",function(t){var e=B[t.id_compared];return E.radiusScale(e)}),l.on(\"mouseenter\",lt).on(\"mouseleave\",rt)}function rt(t,e,n){P.st(\"visibility\",\"hidden\"),d3.select(n[e]).st(\"stroke\",\"gray\").st(\"stroke-width\",.5)}function lt(t,e,n){d3.select(n[e]).st(\"stroke\",\"black\").st(\"stroke-width\",2),U=(U=et(q,t.id_compared)).sort(it),d3.select(\"div.job-compared-name\").text(R[t.id_compared]),d3.select(\"div.job-compared-number\").text(tt(B[t.id_compared])+\" jobs in 2026\");var i=P.select(\"div.job-skills-container\"),a=(i.selectAll(\"div.bar-container\"),i.selectAll(\"div.job-bar-name\").data(U)),r=i.selectAll(\"div.job-bar\").data(U),l=i.selectAll(\"div.job-bar-value\").data(U),o=$(\".jobTooltip\").width(),s=$(\".jobTooltip\").height();x.range([0,.8*o]),r.st(\"height\",\"4px\").st(\"width\",function(t){return x(t.imp)+\"px\"}).st(\"background\",\"#D928BC\"),a.text(function(t,e){return e+1+\". \"+K[t.skill_id]}),l.text(function(t){return t.imp.toFixed(0)+\"%\"});var d,f,p=+d3.select(n[e]).at(\"cx\"),y=+d3.select(n[e]).at(\"cy\");d=p<c/2?100:-o-50,f=y<u/2?50:-s,P.st(\"left\",p+d+\"px\").st(\"top\",y+f+\"px\"),P.st(\"visibility\",\"visible\")}e.default={init:function(){return new Promise(function(t,e){var n;(n=d3).loadData.apply(n,G.concat([function(n,c){if(n)e();else{W=c[0],F=c[1],J=c[2],q=c[3];var u=function(t){var e=d3.min(t,function(t){return t.similarity});return t.filter(function(t){return t.similarity===e})}(O=et(F,L)),y=function(t){var e=d3.max(t,function(t){return t.similarity});return t.filter(function(t){return t.similarity===e})}(O);W.forEach(function(t){t.id=+t.id,t.auto=+t.auto,t.wage=+t.wage,t.number=+t.number}),F.forEach(function(t){t.similarity=+t.similarity,t.id_compared=+t.id_compared,t.id_selected=+t.id_selected}),J.forEach(function(t){t.skill_id=+t.skill_id}),q.forEach(function(t){t.id_selected=+t.id_selected,t.imp=+t.imp,t.skill_id=+t.skill_id,t.rank=+t.rank}),function(t,e){W.forEach(function(t){e[t.id]=t.job_name})}(0,R),function(t,e){W.forEach(function(t){e[t.id]=t.number})}(0,B),function(t,e){W.forEach(function(t){e[t.id]=t.auto})}(0,H),function(t,e){W.forEach(function(t){e[t.id]=t.wage})}(0,z),function(t,e){J.forEach(function(t){return e[t.skill_id]=t.skill})}(0,K),function(){V.at(\"height\"),d=V.at(\"width\"),f=.9*d,p=(1-.9)*d;var t=V.at(\"height\");g=.9*t,b=.15625*t,o=t/2,m=d3.scaleLinear().domain([0,1]).range([0+b,g]),Q=nt(O),r=o-(i=.8*o),l=o-(a=.6*o)}(),E.radiusScale=d3.scaleSqrt().domain([0,d3.max(W,function(t){return t.wage})]).range([2,8]),E.colorScale=d3.scaleLinear().domain(X).range(Z),E=E,function(t,e){var n=V.append(\"g.least-similar-annotation similarity-annotation\"),c=V.append(\"g.most-similar-annotation similarity-annotation\"),u=n.append(\"line\"),y=c.append(\"line\"),g=n.append(\"text\"),b=c.append(\"text\");g.text(R[t[0].id_compared]),b.text(R[e[0].id_compared]).st(\"text-anchor\",\"end\"),n.at(\"transform\",function(e){return\"translate(\"+Q(t[0].similarity)+\",\"+i+\")\"}),c.at(\"transform\",function(t){return\"translate(\"+Q(e[0].similarity)+\",\"+a+\")\"}),u.at(\"x1\",0).at(\"y1\",0).at(\"x2\",0).at(\"y2\",r).st(\"stroke-width\",1).st(\"stroke\",\"black\"),y.at(\"x1\",0).at(\"y1\",0).at(\"x2\",0).at(\"y2\",l).st(\"stroke-width\",1).st(\"stroke\",\"black\"),j=V.append(\"text.axis-label similarity\"),s=1.1*o,j.at(\"x\",d/2).at(\"y\",s).text(\"SKILL SIMILARITY TO TRUCKERS\").st(\"text-anchor\",\"middle\"),A=V.append(\"text.axis-label max-similarity\"),S=V.append(\"text.axis-label min-similarity\"),A.at(\"x\",f).at(\"y\",s).text(\"→ SIMILAR\").st(\"text-anchor\",\"middle\"),S.at(\"x\",p).at(\"y\",s).text(\"DIFFERENT ←\").st(\"text-anchor\",\"middle\"),n.st(\"opacity\",0),c.st(\"opacity\",0),A.st(\"opacity\",0),S.st(\"opacity\",0),j.st(\"opacity\",0),I=V.selectAll(\".axis-label\");var x=d3.format(\".0%\");h=d3.axisLeft(m).ticks(4).tickFormat(x),v=V.append(\"g.scatter-y-axis\").attr(\"transform\",\"translate(\"+p+\",0)\").call(h).st(\"opacity\",0),(k=V.append(\"text.scatter-label-y-axis\")).at(\"transform\",\"translate(\"+p/3+\",\"+o+\") rotate(270)\").st(\"opacity\",0).text(\"AUTOMATABILITY LIKELIHOOD\"),P=d3.select(\"figure.svg-container\").append(\"div.jobTooltip\"),d3.select(\"div.job-selected-name\"),P.append(\"div.job-compared-number\"),P.append(\"div.job-compared-name\");var _=(M=P.append(\"div.job-skills-container\")).append(\"div.tooltip-section-names\");_.append(\"div.section-name-skills\").text(\"SKILL\"),_.append(\"div.section-name-importance\").text(\"IMPORTANCE\"),(w=V.append(\"g.bisecting-automation-group\")).at(\"transform\",\"translate(0,\"+m(H[L])+\")\"),w.append(\"line.bisecting-line\").at(\"x1\",p).at(\"y1\",0).at(\"x2\",f).at(\"y2\",0),w.append(\"text.bisecting-line-label-background\").text(\"TRUCKERS\"),w.append(\"text.bisecting-line-label\").text(\"TRUCKERS\"),w.st(\"opacity\",0)}(u,y),function(t,e){var n=[{value:1.1,label:\"10\"},{value:1.25,label:\"25\"},{value:2,label:\"100\"},{value:5,label:\"400%\"}],i=[{size:1e4,label:\"10K\"},{size:1e5,label:\"500K\"},{size:1e6,label:\"1M\"}];(C=V.append(\"g.legend__wages\")).at(\"transform\",\"translate(\"+.75*d+\",\"+b/6+\")\");var a=C.append(\"text.legend-wages__title\"),r=C.selectAll(\"g.legend-wages__category\").data(n).enter().append(\"g.legend-wages__category\"),l=d/30,o=b/10,s=t(1e6);r.at(\"transform\",function(t,e){return\"translate(\"+e*l+\",\"+s+\")\"}),r.append(\"rect.legend-wages__rectangle\").at(\"width\",l).at(\"height\",b/10).st(\"fill\",function(t){return e(t.value)});var c=3*o;r.append(\"text.legend-wages__text-annotation\").text(function(t){return t.label}).at(\"y\",c).at(\"x\",l),C.append(\"text.legend-wages__zero\").text(\"1%\").at(\"y\",c+s);var u=n.length/2*l;a.text(\"SALARY INCREASE %\").at(\"x\",u),(T=V.append(\"g.legend-job-number\")).at(\"transform\",\"translate(\"+p+\",\"+b/6+\")\");var f=T.selectAll(\"g.legend-job-number__category\").data(i).enter().append(\"g.legend-job-number__category\");f.at(\"transform\",function(e,n){return\"translate(\"+4*n*t(1e6)+\",\"+t(1e6)+\")\"}),f.append(\"circle.legend-job-number__circle\").at(\"r\",function(e){return t(e.size)}).st(\"fill\",\"#FFF\").st(\"stroke\",\"#C6C6C6\"),f.append(\"text.legend-job-number__text\").text(function(t){return t.label}).at(\"y\",2*t(1e6));var y=4*Math.round((i.length-1)/2)*t(1e6),m=T.append(\"text.job-number-title-background\"),g=T.append(\"text.job-number-title\");m.text(\"JOBS IN 2026\").at(\"x\",y).st(\"stroke\",\"#FFF\").st(\"stroke-width\",\"1px\"),g.text(\"JOBS IN 2026\").at(\"x\",y),T.st(\"opacity\",0),C.st(\"visibility\",\"hidden\")}(E.radiusScale,E.colorScale),function(){(D=d3.select(\"div.job-selector__container\").append(\"select\")).at(\"class\",\"job-selector__dropdown\").st(\"opacity\",0);var t=D.selectAll(\"option.job-selector__job-button\").data(W).enter().append(\"option.job-selector__job-button\").at(\"value\",function(t){return t.id});D.insert(\"option\",\":first-child\").at(\"selected\",\"selected\").text(\"Pick another job\"),t.text(function(t){return t.job_name}),$(\".job-selector__dropdown\").chosen({placeholder_text_single:\"Select another job\"}).on(\"change\",at)}(),(x=M.selectAll(\"div.job-bar-container\").data(U).enter().append(\"div.bar-container\")).append(\"div.job-bar-name\").data(U).enter(),(N=x.append(\"div.job-data-container\")).append(\"div.job-bar-box\").append(\"div.job-bar\").data(U).enter(),N.append(\"div.job-bar-value\").data(U).enter(),(_=V.selectAll(\"circle.job\").data(O).enter().append(\"circle.job\")).at(\"cx\",function(t){return Q(t.similarity)}).at(\"cy\",o).st(\"fill\",\"white\").st(\"stroke\",\"gray\").st(\"stroke-width\",.5).st(\"opacity\",0).at(\"r\",\"3\").on(\"mouseenter\",lt).on(\"mouseleave\",rt),t(q)}var x,N}]))})},updateStep:function(t){if(\"x-axis-base\"===t)_.on(\"mouseenter\",lt).on(\"mouseleave\",rt),d3.selectAll(\"span.secondary-title\").st(\"display\",\"inline\"),d3.select(\".chart-title-pt1\").text(\"What should\"),d3.select(\".chart-title-pt2\").text(\"1,789,094\").classed(\"red-text\",!1),d3.select(\".chart-title-pt3\").text(\"truckers\"),d3.select(\".chart-title-pt4\").text(\"earning\").classed(\"blue-text\",!1),d3.select(\".chart-title-pt5\").text(\"$82,000\"),d3.select(\".chart-title-pt6\").text(\"yearly, transition to?\"),V.selectAll(\"g.annotation-group-different\").st(\"visibility\",\"hidden\"),V.selectAll(\"g.annotation-group-similar\").st(\"visibility\",\"hidden\"),V.selectAll(\"g.skill-section__two-jobs\").transition().at(\"transform\",\"translate(0,\"+o+\")\").st(\"opacity\",0),V.selectAll(\"g.all-jobs\").transition().at(\"transform\",\"translate(0,\"+o+\")\").st(\"opacity\",0),V.selectAll(\"g.trucker-developer-groups\").classed(\"invisible\",!0),V.selectAll(\"circle.job\").classed(\"invisible\",!1),V.selectAll(\"g.similarity-annotation\").classed(\"invisible\",!1),Y.selectAll(\".misc-elements\").st(\"visibility\",\"visible\"),Y.selectAll(\".job-selector__container\").st(\"visibility\",\"hidden\"),Y.select(\"img.images-many-jobs-many-skills\").st(\"display\",\"none\"),V.st(\"display\",\"block\"),N.cy=function(){return o},N.r=function(){return 3},N.fill=function(){return\"#FFF\"},N.yScale=function(){m.domain([0,1])},N.opacityCircles=function(){return 1},N.opacityAnnotations=function(){return 0},N.yScale(),_.transition().at(\"cy\",N.cy).at(\"r\",N.r).st(\"fill\",N.fill).st(\"opacity\",N.opacityCircles),V.selectAll(\"g.similarity-annotation\").transition().st(\"opacity\",N.opacityCircles),v.st(\"opacity\",N.opacityAnnotations),k.transition().st(\"opacity\",N.opacityAnnotations),w.transition().st(\"opacity\",N.opacityAnnotations),I.transition().st(\"opacity\",1).at(\"y\",s);else if(\"xy-axis-scatter\"===t){m.domain([0,1]),v.transition().call(h),V.selectAll(\"g.similarity-annotation\").st(\"opacity\",0);var e=1.05*g;v.transition().st(\"opacity\",1),k.transition().st(\"opacity\",1),V.selectAll(\"text.axis-label\").transition().at(\"y\",e),_.transition().at(\"cy\",function(t){return m(H[t.id_compared])}).st(\"opacity\",1),w.transition().st(\"opacity\",N.opacityCircles).at(\"transform\",\"translate(0,\"+m(H[L])+\")\")}else\"xy-axes-scatter\"===t?(m.domain([0,.79]),v.transition().call(h),w.transition().at(\"transform\",\"translate(0,\"+m(H[L])+\")\").st(\"opacity\",0),_.transition().st(\"opacity\",function(t){return+H[t.id_compared]>+H[t.id_selected]?0:1}).at(\"cy\",function(t){return m(H[t.id_compared])}).st(\"fill\",\"#FFF\").at(\"r\",3),C.st(\"visibility\",\"hidden\")):\"xy-axes-scatter-filtered\"===t?(T.transition().st(\"opacity\",0),C.transition().st(\"visibility\",\"visible\"),_.transition().at(\"r\",3).st(\"fill\",function(t){var e=z[t.id_selected],n=z[t.id_compared]/e;return E.colorScale(n)}).st(\"opacity\",function(t){return z[t.id_selected]<z[t.id_compared]&&H[t.id_selected]>H[t.id_compared]?1:0})):\"show-similarity-auto-wage\"===t?(y=!0,\"Pick another job\"!==Y.select(\".job-selector__dropdown\").property(\"value\")&&at(),_=V.selectAll(\"circle.job\").st(\"stroke\",\"gray\"),D.transition().st(\"opacity\",0),T.transition().st(\"opacity\",1),_.transition().at(\"r\",function(t){var e=B[t.id_compared];return E.radiusScale(e)}),Y.selectAll(\".job-selector__container\").st(\"visibility\",\"hidden\")):\"show-similarity-auto-wage-number\"===t&&(y=!1,Y.selectAll(\".job-selector__container\").st(\"visibility\",\"visible\").st(\"position\",\"absolute\").st(\"top\",\"1%\").st(\"left\",\"25%\"),D.transition().st(\"opacity\",1))}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=d3.select(\"svg.scatter\"),a=null,r=null,l=null,o=null,s=null,c=20,u=null,d=null,f=250,p=20,y=null,m=null,g=null,b=null,x=null,v=null,h=null,k=null,_=null,w=null,j=null,A=null,S={},E=null,C=null,T=null,F=!1,O=!1,L=null,P=null,M=null,D=null,I=[\"devs_and_truckers_skills\",\"Choreographers\",\"Dentists\",\"Nurses\",\"Chiropractors\",\"Farmers\",\"Construction_Managers\",\"Firefighters\",\"Geographers\",\"Embalmers\",\"Piplayers\",\"Podiatrists\",\"Fabric_Patternmakers\",\"Clergy\",\"Makeup_Artists\",\"Family_Therapists\",\"CEOs\",\"Art_Directors\",\"Interior_Designers\",\"Craft_Artists\",\"Event_Planners\",\"Veterinarians\",\"Writers\",\"Political_Scientists\",\"Ship_Engineers\",\"Paramedics\",\"Mathematicians\",\"Florists\",\"Travel_Guides\",\"News_Analysts\",\"Musicians\",\"Fitness_Trainers\",\"Graphic_Designers\",\"Childcare_Workers\",\"Police_Officers\",\"Hairdressers\",\"Journalists\",\"Air_Traffic_Controllers\",\"Dancers\",\"Optometrists\",\"Physician_Assistants\",\"Electricians\",\"Ambulance_Drivers\",\"Athletes\",\"Skincare_Specialists\",\"Private_Cooks\",\"Funeral_Attendants\",\"Actors\",\"Judges\",\"Economists\",\"Historians\",\"Dental_Assistants\",\"Cobblers\",\"Massage_Therapists\",\"Millwrights\",\"Librarians\",\"Maids\",\"Bartenders\",\"Dishwashers\",\"Fast_Food_Cooks\",\"Barbers\",\"Real_Estate_Agents\",\"Proofreaders\"],N=I.length,R=[];function B(t,e,n){var i=$(this)[0].nodeName.toLowerCase(),a=null;\"g\"===i?a=d3.select(n[e]):\"text\"===i&&(a=d3.select(n[e]).parent()),E.st(\"opacity\",.3),a.st(\"opacity\",1),a.selectAll(\"circle\").st(\"stroke-width\",3),a.select(\"line.skill-axis\").st(\"stroke-width\",2),a.select(\"text\").st(\"font-weight\",600).st(\"opacity\",1)}function H(t,e,n){g.st(\"font-weight\",400).st(\"opacity\",function(t,e){return e%2==0?1:.1}),E.st(\"opacity\",1),E.selectAll(\"circle\").st(\"stroke-width\",2),E.selectAll(\"line.skill-axis\").st(\"stroke-width\",1)}I.forEach(function(t){R.push(\"assets/data/\"+t+\".csv\")}),e.default={init:function(){return new Promise(function(t,e){var n;(n=d3).loadData.apply(n,R.concat([function(n,p){if(n)e();else{A=p[0];var F=[];!function(t,e){var n=void 0;for(n=1;n<e.length;n++)t.push(e[n])}(F,p),a=window.innerWidth,window.innerHeight,r=a<700,function(t,e){var n=0,i=0;t.forEach(function(t){t.difference=Math.abs(+t.devs-+t.truckers),i%2==0?(t.abrigedNum=n,n+=1):t.abrigedNum=2e3,i+=1}),e.forEach(function(t){t.forEach(function(t){t.difference=Math.abs(+t.job_selected-+t.job_compared)})});var a=void 0,r=0,l=1;for(a=0;a<t.length;a++)t[a].xCoordStacked=r,r+=t[a].difference+l;e.forEach(function(t){for(r=0,l=1,a=0;a<t.length;a++)t[a].xCoordStacked=r,r+=+t[a].difference+l}),w=[].concat.apply([],e);var o=0;(j=(j=d3.nest().key(function(t){return t.job_compared_name}).entries(w)).slice(0,39)).forEach(function(t){t.order=o,o+=1})}(A,F),function(){l=i.at(\"width\"),o=i.at(\"height\"),u=o/(A.length+1),d=o/(j.length+3),console.log(\"TWO_JOBS_SKILL_SPACING: \"+u),console.log(\"ALL_JOBS_JOB_SPACING: \"+d);var t=.7*l,e=(1-.7)*l;S.xScale=d3.scaleLinear().domain([0,100]).range([e,t]),S.xScaleRectangle=d3.scaleLinear().domain([0,100]).range([0,t-e]);var n=w.map(function(t){return t.xCoordStacked}),a=d3.max(n)/68;S.xScaleEuclidean=d3.scaleLinear().domain([0,100]).range([0,a]),s=r?10:60}(),function(t){L=d3.select(\"span.chart-title-pt1\"),P=d3.select(\"span.chart-title-pt2\"),M=d3.select(\"span.chart-title-pt3\"),D=d3.select(\"span.chart-title-pt4\"),E=i.selectAll(\"g.skill-section__two-jobs\").data(t).enter().append(\"g.skill-section__two-jobs\").st(\"opacity\",0).at(\"transform\",function(t,e){return\"translate(\"+s+\",\"+(c+e*u)+\")\"}),C=i.selectAll(\"g.all-jobs\").data(j).enter().append(\"g\").at(\"class\",function(t){return\"all-jobs \"+t.key}).st(\"opacity\",0),T=C.selectAll(\"g.skill-item\").data(function(t){return t.values}).enter().append(\"g\").at(\"class\",function(t){return\"skill-item-\"+t.skills.replace(/ /g,\"_\")}),b=E.append(\"line.skill-axis\"),x=C.append(\"text.job-name\"),v=E.append(\"rect.skill-difference-axis\"),h=T.append(\"rect.skill-difference-axis-all-jobs\"),v.at(\"x\",function(t){return+t.devs>=+t.truckers?S.xScale(+t.truckers):S.xScale(+t.devs)}).at(\"y\",\"-6\").at(\"width\",function(t){return S.xScaleRectangle(t.difference)}).at(\"height\",6).st(\"fill\",\"#E530BE\").st(\"opacity\",0),h.at(\"x\",function(t){return S.xScaleEuclidean(t.xCoordStacked)}).at(\"width\",function(t){return S.xScaleEuclidean(t.difference)}).st(\"fill\",\"#E530BE\").at(\"transform\",\"translate(250,-7)\").at(\"height\",6).on(\"mouseenter\",function(t){return console.log(t.skills)}),C.at(\"transform\",function(t,e){return\"translate(0,\"+(60+e*d)+\")\"}),y=E.append(\"circle.devs-skill-circle\"),m=E.append(\"circle.truckers-skill-circle\"),g=E.append(\"text.skill-name\"),k=i.selectAll(\".intro-x-axis\"),_=i.selectAll(\".trucker-developer-groups\")}(A),function(){var t={},e={},n={},a={},r=j.filter(function(t){return\"Piplayers\"===t.key}),o=j.filter(function(t){return\"CEOs\"===t.key}),s=j.filter(function(t){return\"Clergy\"===t.key}),c=j.filter(function(t){return\"Ambulance_Drivers\"===t.key});A.filter(function(t){return\"Fine Arts\"===t.key}),console.log(A);var u=r[0].values.length-1;t.xCoord=f+S.xScaleEuclidean(r[0].values[u].xCoordStacked),e.xCoord=f+S.xScaleEuclidean(o[0].values[u].xCoordStacked),n.xCoord=f+S.xScaleEuclidean(s[0].values[u].xCoordStacked),a.xCoord=f+S.xScaleEuclidean(c[0].values[u].xCoordStacked),t.yCoord=+r[0].order*d+60,e.yCoord=+o[0].order*d+60,n.yCoord=+s[0].order*d+60,a.yCoord=+c[0].order*d+60;var p=l-.15*l,y=p-e.xCoord,m=p-a.xCoord,g=[{note:{label:\"CEOs and truck drivers have the greatest gap between their skills\",title:\"Highly different\",wrap:150,align:\"middle\"},x:e.xCoord,y:e.yCoord,dx:y,dy:-40,subject:{radius:15,radiusPadding:5}}],b=[{note:{label:\"The largest skill overlap for truck drivers occurs with ambulance drivers\",title:\"Highly similar\",wrap:150,align:\"middle\"},x:a.xCoord,y:a.yCoord,dx:m,dy:0,subject:{radius:15,radiusPadding:5}}],x=d3.annotation().type(d3.annotationCalloutCircle).annotations(g),v=d3.annotation().type(d3.annotationCalloutCircle).annotations(b);i.append(\"g\").attr(\"transform\",\"translate(0,0)\").attr(\"class\",\"annotation-group-different\").call(x),i.append(\"g\").attr(\"transform\",\"translate(0,0)\").attr(\"class\",\"annotation-group-similar\").call(v)}(),t()}}]))})},updateStep:function(t){if(\"images-two-jobs-two-skills-developers\"===t&&(O=!1),\"images-two-jobs-all-skills\"===t){var e=d3.axisTop(S.xScale).ticks(1).tickFormat(function(t){return t+\"%\"});k.transition().duration(400).call(e).at(\"transform\",function(t,e){return\"translate(\"+s+\",\"+(c+0*u)+\")\"}),k.selectAll(\".intro-x-axis .tick line\").st(\"opacity\",0),i.select(\"text.example-skill-title\").st(\"opacity\",0),L.text(\"Importance of skills for \"),P.text(\"truckers \").classed(\"red-text\",!0).st(\"display\",\"inline-block\"),M.text(\"and \").st(\"display\",\"inline-block\"),D.text(\"developers\").classed(\"blue-text\",!0).st(\"display\",\"inline-block\"),d3.select(\".chart-title-div\").st(\"visibility\",\"visible\"),v.transition().duration(250).st(\"opacity\",0),y.transition().delay(function(){return!0===O?250:400}).duration(function(t,e){return!0===O?200:e*p}).st(\"opacity\",1),m.transition().delay(function(){return!0===O?250:400}).duration(function(t,e){return!0===O?200:e*p}).st(\"opacity\",1),_.st(\"opacity\",0),y.at(\"cx\",function(t){return S.xScale(t.devs)}).at(\"cy\",-1).at(\"r\",5).on(\"mouseenter\"),m.at(\"cx\",function(t){return S.xScale(t.truckers)}).at(\"cy\",-1).at(\"r\",5),E.transition().delay(function(){return!1===O?400:0}).duration(function(t,e){return e*p}).st(\"opacity\",1),g.text(function(t){return t.skills}).st(\"text-anchor\",\"right\").st(\"opacity\",function(t,e){return e%2==0?1:.1}),b.at(\"x1\",function(){return S.xScale(0)}).at(\"y1\",-1).at(\"x2\",function(){return S.xScale(100)}).at(\"y2\",-1).at(\"stroke-width\",1).st(\"stroke\",\"black\").st(\"opacity\",function(t,e){return\"Programming\"===t.skills?0:1}),x.at(\"transform\",\"translate(\"+s+\",0)\").text(function(t){return t.key.replace(/_/g,\" \")}).st(\"text-anchor\",\"right\").st(\"opacity\",0),E.on(\"mouseenter\",B).on(\"mouseleave\",H),g.on(\"mouseenter\",B).on(\"mouseleave\",H),k.selectAll(\".intro-x-axis .tick text\").st(\"font-size\",\"12px\").st(\"opacity\",1).at(\"y\",0),O=!0}else if(\"images-two-jobs-highlight-skill-differences\"===t){var n=N*p*.6;k.transition().delay(n).st(\"opacity\",1),d3.selectAll(\".secondary-title-stacking\").st(\"display\",\"none\"),L.text(\"Skill differences between truckers & developers\"),i.selectAll(\"g.annotation-group-different\").transition().st(\"visibility\",\"hidden\"),i.selectAll(\"g.annotation-group-similar\").transition().st(\"visibility\",\"hidden\"),E.st(\"opacity\",1).transition().delay(function(){return!0===F?n:0}).at(\"transform\",function(t,e){return\"translate(\"+s+\",\"+(c+e*u)+\")\"}),g.transition().delay(function(){return!0===F?n:0}).text(function(t){return t.skills}).st(\"text-anchor\",\"right\").st(\"opacity\",function(t,e){return e%2==0?1:.1}).at(\"transform\",\"translate(0,0)\"),b.at(\"x1\",function(){return S.xScale(0)}).at(\"y1\",-3).at(\"x2\",function(){return S.xScale(100)}).at(\"y2\",-3).at(\"stroke-width\",1).st(\"stroke\",\"black\").transition().delay(function(){return!0===F?n:0}).st(\"opacity\",function(t,e){return\"Programming\"===t.skills?0:1}),x.text(function(t){return t.key.replace(/_/g,\" \")}).st(\"text-anchor\",\"right\").transition().duration(function(t,e){return N*p-e*p}).st(\"opacity\",0),v.transition().delay(function(){return!0===F?n:250}).duration(500).st(\"opacity\",1).at(\"x\",function(t){return+t.devs>=+t.truckers?S.xScale(+t.truckers):S.xScale(+t.devs)}).at(\"y\",-6).at(\"width\",function(t){return S.xScaleRectangle(t.difference)}).at(\"height\",6).at(\"transform\",\"translate(0,0)\").st(\"fill\",\"#E530BE\"),y.transition().st(\"opacity\",0),m.transition().st(\"opacity\",0),C.transition().duration(function(t,e){return N*p-e*p}).st(\"opacity\",0),F=!1}else if(\"images-two-jobs-stacked-skills\"===t){k.st(\"opacity\",0),i.selectAll(\"g.similarity-annotation\").st(\"opacity\",0),d3.selectAll(\"span.secondary-title-remaining\").st(\"display\",\"none\"),i.selectAll(\".axis-label\").st(\"opacity\",0),i.selectAll(\"circle.job\").st(\"opacity\",0).on(\"mouseenter\",function(){}),d3.selectAll(\"span.secondary-title-stacking\").st(\"display\",\"none\"),L.transition().text(\"Skills differences between truckers & other jobs\"),F=!0,b.transition().st(\"opacity\",0),y.transition().st(\"opacity\",0),m.transition().st(\"opacity\",0),C.at(\"transform\",function(t,e){return\"translate(0,\"+(60+e*d)+\")\"}).transition().delay(450).duration(function(t,e){return e*p}).st(\"opacity\",1),x.transition().delay(450).st(\"opacity\",1),g.transition().st(\"opacity\",0).text(function(t,e){return e===A.length-1?\"Developers\":\"\"}).at(\"transform\",\"translate(\"+s+\",0)\").transition().st(\"opacity\",1),v.transition().duration(500).at(\"x\",function(t){return S.xScaleEuclidean(t.xCoordStacked)}).at(\"width\",function(t){return S.xScaleEuclidean(t.difference)}).at(\"transform\",function(t,e){return\"translate(250,0)\"}).at(\"height\",6);var a=60-d;E.transition().delay(function(t,e){return 3.67647059*e}).st(\"opacity\",1).at(\"transform\",function(){return\"translate(0,\"+a+\")\"}),v.on(\"mouseenter\",function(t){return console.log(t.skills)}),i.selectAll(\"g.annotation-group-different\").transition().delay(450).st(\"visibility\",\"visible\"),i.selectAll(\"g.annotation-group-similar\").transition().delay(450).st(\"visibility\",\"visible\")}}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=[{job:\"Truckers\",automatability:.79,skillDeveloperScore:3,skillDeveloperName:\"Programming\",fill:\"blue\",skillTruckerScore:72,skillTruckerName:\"Multilimb Coordination\"},{job:\"Developers\",automatability:.04,skillDeveloperScore:75,skillDeveloperName:\"Programming\",fill:\"magenta\",skillTruckerScore:0,skillTruckerName:\"Multilimb Coordination\"},{job:\"Elementary school teachers\",automatability:0,skillDeveloperScore:\"\",skillDeveloperName:\"\",fill:\"\",skillTruckerScore:\"\",skillTruckerName:\"\"},{job:\"Telemarketers\",automatability:1,skillDeveloperScore:\"\",skillDeveloperName:\"\",fill:\"\",skillTruckerScore:\"\",skillTruckerName:\"\"}],a=null,r=null,l=null,o=null,s=null,c=d3.select(\"body\").select(\"figure.svg-container\"),u=c.select(\"svg.scatter\"),d=20,f=3,p=null,y=null,m=null,g=null,b={},x=null,v=null,h=null,k=null,_=null,w=null,j=null,A=null,S=null,E=null,C=null,T=null,F=null,O=!1;e.default={init:function(){return new Promise(function(t,e){var n,c;n=i,u.append(\"defs\").selectAll(\"pattern\").data(n).enter().append(\"pattern\").at(\"width\",2*d).at(\"height\",2*d).at(\"id\",function(t){return t.job.replace(/ /g,\"_\")+\"-img\"}).append(\"image\").at(\"width\",2*d).at(\"height\",2*d).at(\"x\",0).at(\"y\",0).at(\"xlink:href\",function(t){return\"assets/data/circle-images/\"+t.job.replace(/ /g,\"_\")+\".png\"}),r=u.at(\"width\"),l=u.at(\"height\"),p=window.innerWidth,y=window.innerHeight,a=p<700,o=.9,s=.8,console.log(\"resize!\"),c=document.getElementById(\"misc-chart-elements-container\").offsetHeight,x=(y-c)*s,v=r*o,k=(1-o)*r,_=(1-s)*l,b.yScale=d3.scaleLinear().domain([0,1]).range([0+_,x]),b.xScale=d3.scaleLinear().domain([0,100]).range([0+k,v]),g=a?r/4:r/2,function(){!function(){var t=d3.format(\".0%\"),e=d3.format(\"d\"),n=d3.axisLeft(b.yScale).ticks(1).tickFormat(t),i=d3.axisTop(b.xScale).ticks(1).tickFormat(e),a=g,r=b.yScale(.5);m=u.append(\"g.intro-y-axis\").attr(\"transform\",\"translate(\"+a+\",0)\").call(n).st(\"opacity\",1),(A=u.append(\"g.intro-x-axis\").attr(\"transform\",\"translate(0,\"+r+\")\").call(i).st(\"opacity\",0)).select(\"path.domain\").at(\"transform\",\"translate(0,\"+-f/2+\")\"),u.append(\"text.y-axis-label.min\").at(\"x\",g).at(\"y\",_/2).st(\"fill\",\"#2F80ED\").st(\"text-anchor\",\"middle\").text(\"FUTURE-PROOF JOBS\"),u.append(\"text.y-axis-label.title-background\").at(\"transform\",\"translate(\"+1.01*g+\",\"+l/2+\") rotate(270)\").st(\"stroke\",\"#FFFFFF\").st(\"stroke-width\",11).st(\"text-anchor\",\"middle\").text(\"AUTOMATION LIKELIHOOD %\"),u.append(\"text.y-axis-label.title\").at(\"transform\",\"translate(\"+1.01*g+\",\"+l/2+\") rotate(270)\").st(\"fill\",\"#6f6f6f\").st(\"text-anchor\",\"middle\").text(\"AUTOMATION LIKELIHOOD %\"),u.append(\"text.y-axis-label.max\").at(\"x\",g).at(\"y\",x+_/2).st(\"fill\",\"#EB5757\").st(\"text-anchor\",\"middle\").text(\"🤖 WILL TAKE THESE JOBS\")}();var t=b.yScale(.35);F=u.append(\"text.example-skill-title\").at(\"x\",g).at(\"y\",t).text(\"Importance of skill: programming\");var e=u.selectAll(\"circle.jobs-circles\").data(i).enter();j=e.append(\"g.trucker-developer-groups\"),w=j.append(\"circle.intro-jobs-circles\");var n=j.append(\"text.intro-automatability-values\");S=j.append(\"text.intro-job-names\");var a=j.append(\"text.intro-job-skill-values\");n.text(function(t){return 100*t.automatability+\"%\"}),S.text(function(t){return t.job}),a.text(function(t){return t.skillTruckerScore}),j.at(\"transform\",function(t){return\"translate(\"+g+\",\"+ +b.yScale(t.automatability)+\")\"}).st(\"opacity\",function(t){return\"Elementary school teachers\"===t.job||\"Telemarketers\"===t.job?1:0}),a.st(\"opacity\",0),E=4*d,T=(C=2*d)/10,w.at(\"cx\",C).at(\"r\",d).st(\"fill\",\"#2F80ED\").st(\"fill\",function(t){return\"url(#\"+t.job.replace(/ /g,\"_\")+\"-img)\"}),S.at(\"x\",E).at(\"y\",T).st(\"text-anchor\",\"right\"),n.at(\"x\",-C).at(\"y\",T).st(\"text-anchor\",\"left\"),h=d3.axisTop(b.xScale).ticks(1).tickFormat(function(t){return t+\"%\"})}(),t()})},updateStep:function(t){if(\"all-automation\"===t)j.transition().st(\"opacity\",function(t){return\"Truckers\"===t.job||\"Developers\"===t.job?0:1}),u.select(\"g.intro-y-axis\").selectAll(\"g.tick\").selectAll(\"text\").transition().st(\"opacity\",\"0\");else if(\"main-job-circle\"===t)j.transition().st(\"opacity\",function(t){return\"Truckers\"===t.job?1:0}),u.select(\"g.intro-y-axis\").selectAll(\"g.tick\").selectAll(\"text\").transition().st(\"opacity\",\"1\");else if(\"main-job-automation\"===t)F.transition().st(\"opacity\",0),S.at(\"x\",E).at(\"y\",T).st(\"text-anchor\",\"right\"),u.selectAll(\"text.y-axis-label\").transition().st(\"opacity\",1),u.selectAll(\".intro-automatability-values\").transition().st(\"opacity\",1),A.transition().st(\"opacity\",0),u.st(\"display\",\"block\"),m.st(\"opacity\",1),j.transition().st(\"opacity\",function(t){return\"Truckers\"===t.job||\"Developers\"===t.job?1:0}).at(\"transform\",function(t){return\"translate(\"+g+\",\"+ +b.yScale(t.automatability)+\")\"}),c.select(\"img.images-two-jobs-two-skills\").st(\"display\",\"none\"),O=!1;else if(\"images-two-jobs-two-skills-developers\"===t){var e=u.selectAll(\"g.skill-section__two-jobs\").size();F.transition().delay(function(){return!0===O?800:0}).st(\"opacity\",1),d3.select(\".chart-title-div\").transition().st(\"visibility\",\"hidden\"),u.selectAll(\"g.trucker-developer-groups\").classed(\"invisible\",!1),S.at(\"x\",0).at(\"y\",C).st(\"text-anchor\",\"start\"),u.selectAll(\".skill-section__two-jobs\").transition().duration(function(t,n){return!0===O?15*e-15*n:250}).st(\"opacity\",0);var n=b.yScale(.5);u.selectAll(\"text.y-axis-label\").transition().st(\"opacity\",0),u.selectAll(\".intro-automatability-values\").transition().st(\"opacity\",0),d3.format(\"d\"),A.transition().delay(function(){return!0===O?400:0}).duration(400).call(h).st(\"opacity\",1).at(\"transform\",function(){return\"translate(0,\"+n+\")\"}),A.selectAll(\".intro-x-axis .tick text\").at(\"random-at\",45),A.selectAll(\".intro-x-axis .tick text\").at(\"y\",0),A.selectAll(\"g.tick\").selectAll(\"text\").transition().st(\"text-anchor\",function(t,e){return 0===t?\"end\":\"start\"}).at(\"y\",function(){return 0}).at(\"x\",function(t,e){return 0===t?-2:2}).at(\"y\",0).st(\"font-size\",16),m.transition().st(\"opacity\",0),j.transition().delay(function(){return!0===O?800:0}).at(\"transform\",function(t){return\"translate(\"+b.xScale(t.skillDeveloperScore)+\",\"+n+\")\"}).st(\"opacity\",function(t){return\"Truckers\"===t.job||\"Developers\"===t.job?1:0}),u.selectAll(\"g.skill-section\").transition().st(\"opacity\",0),O=!0}else if(\"images-two-jobs-two-skills\"===t){var i=b.yScale(.5);u.selectAll(\"text.y-axis-label\").transition().st(\"opacity\",0),u.selectAll(\".intro-automatability-values\").transition().st(\"opacity\",0),A.transition().st(\"opacity\",1).at(\"transform\",function(){return\"translate(0,\"+i+\")\"}),m.transition().st(\"opacity\",0),j.transition().at(\"transform\",function(t){return\"translate(\"+b.xScale(t.skillTruckerScore)+\",\"+i+\")\"})}else\"images-two-jobs-many-skills\"===t?(c.select(\"img.images-two-jobs-two-skills\").st(\"display\",\"none\"),c.select(\"img.images-two-jobs-stacked-skills\").st(\"display\",\"none\"),c.select(\"img.images-two-jobs-many-skills\").st(\"display\",\"block\").st(\"visibility\",\"visible\")):\"images-two-jobs-all-skills\"===t&&(O=!0)}}},function(t,e,n){\"use strict\";var i,a;void 0===(a=\"function\"==typeof(i=function(){return function(t){function e(){p=!1;var t=function(){if(c&&\"number\"==typeof c){var t=Math.min(Math.max(0,c),1);return m-t*m}return m}();(y=y.filter(function(e){var n=e.getBoundingClientRect().top<t;if(n&&!e.__enter_view){if(l(e),d)return!1}else!n&&e.__enter_view&&o&&o(e);return e.__enter_view=n,!0})).length||window.removeEventListener(\"scroll\",n,!0)}function n(){p||(p=!0,f(e))}function i(){var t,n;t=document.documentElement.clientHeight,n=window.innerHeight||0,m=Math.max(t,n),e()}function a(t){for(var e=t.length,n=[],i=0;i<e;i+=1)n.push(t[i]);return n}var r=t.selector,l=t.enter,o=t.exit,s=t.offset,c=void 0===s?0:s,u=t.once,d=void 0!==u&&u,f=null,p=!1,y=[],m=0;r&&l||console.error(\"must set selector and enter options\"),f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return\"string\"==typeof t?a(e.querySelectorAll(t)):t instanceof NodeList?a(t):t instanceof Array?t:void 0}(r),window.addEventListener(\"resize\",i,!0),window.addEventListener(\"scroll\",n,!0),i(),e()}})?i.call(e,n,e,t):i)||(t.exports=a)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=o(n(3)),a=o(n(2)),r=o(n(1)),l=o(n(0));function o(t){return t&&t.__esModule?t:{default:t}}var s=window.innerWidth,c=window.innerHeight,u=s<700;function d(t){var e=d3.select(\"[data-index='\"+t+\"']\").attr(\"data-step\");console.log({step:e}),a.default.updateStep(e),r.default.updateStep(e),l.default.updateStep(e)}function f(){(0,i.default)({selector:\".section__scene\",offset:-.05,enter:function(t){d(+d3.select(t).attr(\"data-index\"))},exit:function(t){var e=+d3.select(t).attr(\"data-index\");d(e=Math.max(0,e-1))}})}e.default={init:function(){var t=(1-.9)/2*s+(u?10:60),e=d3.select(\"body\").select(\"figure.svg-container\").select(\"svg.scatter\");d3.select(\".chart-title-div\").st(\"padding-left\",t);var n=document.getElementById(\"misc-chart-elements-container\").offsetHeight,i=c-n;console.log(\"full viewport height: \"+c),console.log(\"misc el div height: \"+n),console.log(\"svg height (leftovers): \"+i),e.at(\"height\",i).at(\"width\",.9*s).st(\"fill\",\"#00000\");var o=d3.select(\"svg.scatter\").at(\"height\");console.log(\"svg height actual: \"+o),d3.select(\"img.images-two-jobs-two-skills\").st(\"width\",s*(.9-.3)),d3.select(\"img.images-two-jobs-many-skills\").st(\"width\",s*(.9-.3)),d3.select(\"img.images-two-jobs-stacked-skills\").st(\"width\",s*(.9-.3)),d3.select(\"img.images-many-jobs-many-skills\").st(\"width\",s*(.9-.3)),a.default.init().then(function(){f()}).catch(function(t){console.log(t)}),r.default.init().then(function(){f()}).catch(function(t){console.log(t)}),l.default.init().then(function(){f()}).catch(function(t){console.log(t)})},resize:function(){}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.android()||i.blackberry()||i.ios()||i.opera()||i.windows()}};e.default=i},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){var n=NaN,i=\"[object Symbol]\",a=/^\\s+|\\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,c=\"object\"==typeof e&&e&&e.Object===Object&&e,u=\"object\"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function(\"return this\")(),f=Object.prototype.toString,p=Math.max,y=Math.min,m=function(){return d.Date.now()};function g(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function b(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&f.call(t)==i}(t))return n;if(g(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(a,\"\");var c=l.test(t);return c||o.test(t)?s(t.slice(2),c?2:8):r.test(t)?n:+t}t.exports=function(t,e,n){var i,a,r,l,o,s,c=0,u=!1,d=!1,f=!0;if(\"function\"!=typeof t)throw new TypeError(\"Expected a function\");function x(e){var n=i,r=a;return i=a=void 0,c=e,l=t.apply(r,n)}function v(t){var n=t-s;return void 0===s||n>=e||n<0||d&&t-c>=r}function h(){var t=m();if(v(t))return k(t);o=setTimeout(h,function(t){var n=e-(t-s);return d?y(n,r-(t-c)):n}(t))}function k(t){return o=void 0,f&&i?x(t):(i=a=void 0,l)}function _(){var t=m(),n=v(t);if(i=arguments,a=this,s=t,n){if(void 0===o)return function(t){return c=t,o=setTimeout(h,e),u?x(t):l}(s);if(d)return o=setTimeout(h,e),x(s)}return void 0===o&&(o=setTimeout(h,e)),l}return e=b(e)||0,g(n)&&(u=!!n.leading,r=(d=\"maxWait\"in n)?p(b(n.maxWait)||0,e):r,f=\"trailing\"in n?!!n.trailing:f),_.cancel=function(){void 0!==o&&clearTimeout(o),c=0,i=s=a=o=void 0},_.flush=function(){return void 0===o?l:k(m())},_}}).call(this,n(6))},function(t,e,n){\"use strict\";var i=l(n(7)),a=l(n(5)),r=l(n(4));function l(t){return t&&t.__esModule?t:{default:t}}var o=d3.select(\"body\"),s=0;o.classed(\"is-mobile\",a.default.any()),window.addEventListener(\"resize\",(0,i.default)(function(){var t=o.node().offsetWidth;s!==t&&(s=t,r.default.resize())},150)),r.default.init()}]);","extractedComments":[]}