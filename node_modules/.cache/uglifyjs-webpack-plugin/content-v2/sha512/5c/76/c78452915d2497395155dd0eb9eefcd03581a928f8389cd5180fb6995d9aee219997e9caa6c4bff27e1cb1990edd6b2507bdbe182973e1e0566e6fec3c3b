{"code":"!function(t){var e={};function i(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},i.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=7)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(){window.innerWidth;var t,e=window.innerHeight,i=[];[\"devs_and_truckers_skills\",\"Choreographers\",\"Dentists\",\"Nurses\",\"Chiropractors\",\"Farmers\",\"Construction_Managers\",\"Firefighters\",\"Geographers\",\"Embalmers\",\"Piplayers\",\"Podiatrists\",\"Fabric_Patternmakers\",\"Clergy\",\"Makeup_Artists\",\"Family_Therapists\",\"CEOs\",\"Art_Directors\",\"Interior_Designers\",\"Craft_Artists\",\"Event_Planners\",\"Veterinarians\",\"Writers\",\"Political_Scientists\",\"Ship_Engineers\",\"Paramedics\",\"Mathematicians\",\"Florists\",\"Travel_Guides\",\"News_Analysts\",\"Musicians\",\"Fitness_Trainers\",\"Graphic_Designers\",\"Childcare_Workers\",\"Police_Officers\",\"Hairdressers\",\"Journalists\",\"Air_Traffic_Controllers\",\"Dancers\",\"Optometrists\",\"Physician_Assistants\",\"Electricians\",\"Ambulance_Drivers\",\"Athletes\",\"Skincare_Specialists\",\"Private_Cooks\",\"Funeral_Attendants\",\"Actors\",\"Judges\",\"Economists\",\"historians\",\"Dental_Assistants\",\"Cobblers\",\"Massage_Therapists\",\"Millwrights\",\"Librarians\",\"Maids\",\"Bartenders\",\"Dishwashers\",\"Fast_Food_Cooks\",\"Barbers\",\"Real_Estate_Agents\",\"Proofreaders\"].forEach(function(t){i.push(\"assets/data/\"+t+\".csv\")}),(t=d3).loadData.apply(t,i.concat([function(t,i){var a=new ScrollMagic.Controller,r=(d3.select(\"div.skill-difference\"),d3.select(\"div.skill-stack-difference\"),d3.select(\"div.all-skills-difference\"),d3.select(\"div.only-similarity-axis\"),i[0]),o=[];for(n=1;n<i.length;n++)o.push(i[n]);r.forEach(function(t){t.difference=Math.abs(+t.devs-+t.truckers)}),o.forEach(function(t){t.forEach(function(t){t.difference=Math.abs(+t.job_selected-+t.job_compared)})});var n=void 0,l=0,c=1;for(n=0;n<r.length;n++)r[n].xCoordStacked=l,l+=r[n].difference+c;o.forEach(function(t){for(l=0,c=1,n=0;n<t.length;n++)t[n].xCoordStacked=l,l+=+t[n].difference+c});var s=d3.select(\"svg.scatter\"),d=s.selectAll(\"circle.truckers-devs-circles\"),u=s.select(\"g.intro-y-axis\"),b=s.select(\"g.intro-x-axis\"),f=s.selectAll(\"text.two-job-skill-value\");d.st(\"opacity\",0),u.st(\"opacity\",0),b.st(\"opacity\",0),f.st(\"opacity\",0);var m=[].concat.apply([],o),p=d3.nest().key(function(t){return t.job_compared_name}).entries(m),g=s.at(\"width\"),y=(s.at(\"height\"),.7*g),k=(1-.7)*g,v=d3.scaleLinear().domain([0,100]).range([k,y]),h=d3.scaleLinear().domain([0,100]).range([0,y-k]),S=s.selectAll(\"g.skill-section\").data(r).enter().append(\"g.skill-section\"),x=s.selectAll(\"g.all-skills\").data(p).enter().append(\"g\").at(\"class\",function(t){return\"all-skills \"+t.key}),j=x.selectAll(\"g.skill-item\").data(function(t){return t.values}).enter().append(\"g\").at(\"class\",function(t){return\"skill-item-\"+t.skills.replace(/ /g,\"_\")}),_=S.append(\"circle.devs-skill-circle\"),A=S.append(\"circle.truckers-skill-circle\"),J=S.append(\"text.job-name\"),T=S.append(\"line.skill-axis\"),E=x.append(\"text.job-name\"),w=(new ScrollMagic.Scene({triggerElement:\".two-jobs-all-skills\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){_.at(\"cx\",function(t){return v(t.devs)}).at(\"r\",5).st(\"fill\",\"#0B24FB\").on(\"mouseenter\"),A.at(\"cx\",function(t){return v(t.truckers)}).at(\"r\",5).st(\"fill\",\"#EB5757\").st(\"opacity\",1),S.st(\"opacity\",1).at(\"transform\",function(t,e){return\"translate(60,\"+(15+15*e)+\")\"}),J.text(function(t){return t.skills}).st(\"text-anchor\",\"right\").st(\"opacity\",1),T.at(\"x1\",function(){return v(0)}).at(\"y1\",0).at(\"x2\",function(){return v(100)}).at(\"y2\",0).at(\"stroke-width\",1).st(\"stroke\",\"black\").st(\"opacity\",1),E.at(\"transform\",\"translate(60,0)\").text(function(t){return t.key.replace(/_/g,\" \")}).st(\"text-anchor\",\"right\")}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&(_.at(\"cx\",function(t){return v(t.devs)}).at(\"r\",5).st(\"fill\",\"#0B24FB\"),A.st(\"opacity\",0),S.st(\"opacity\",0),J.st(\"opacity\",0),T.st(\"opacity\",0),E.st(\"opacity\",0),d.st(\"opacity\",1),u.st(\"opacity\",1),b.st(\"opacity\",1),f.st(\"opacity\",1))}).addTo(a),S.append(\"rect.skill-difference-axis\")),O=j.append(\"rect.skill-difference-axis-all-jobs\");w.at(\"x\",function(t){return+t.devs>=+t.truckers?v(+t.truckers):v(+t.devs)}).at(\"width\",function(t){return h(t.difference)}).at(\"height\",3).st(\"fill\",\"#E530BE\").st(\"opacity\",0),new ScrollMagic.Scene({triggerElement:\".two-jobs-skills-difference\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){w.transition().st(\"opacity\",1)}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&w.transition().st(\"opacity\",0)}).addTo(a);var D=m.map(function(t){return t.xCoordStacked}),M=d3.max(D)/68,N=d3.scaleLinear().domain([0,100]).range([0,M]);new ScrollMagic.Scene({triggerElement:\".two-jobs-stack-difference\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){T.transition().st(\"opacity\",0),J.transition().st(\"opacity\",0).text(function(t,e){return e===r.length-1?\"Developers\":\"\"}).at(\"transform\",\"translate(60,0)\").transition().st(\"opacity\",1),_.transition().st(\"opacity\",0),A.transition().st(\"opacity\",0),w.transition().delay(1e3).at(\"x\",function(t){return N(t.xCoordStacked)}).at(\"width\",function(t){return N(t.difference)}).at(\"transform\",function(t,e){return\"translate(250,0)\"}),S.transition().delay(2e3).duration(500).at(\"transform\",function(){return\"translate(60,\"+e/2+\")\"}),w.on(\"mouseenter\",function(t){return console.log(t.skills)})}).on(\"leave\",function(t){t.target.controller().info(\"scrollDirection\")}).addTo(a),new ScrollMagic.Scene({triggerElement:\".many-jobs-stack-difference\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){S.at(\"transform\",function(){return\"translate(0,30)\"}),O.at(\"x\",function(t){return N(t.xCoordStacked)}).at(\"width\",function(t){return N(t.difference)}).at(\"height\",3).st(\"fill\",\"#E530BE\").at(\"transform\",function(t,e){return\"translate(250,0)\"}).on(\"mouseenter\",function(t){return console.log(t.skills)}),x.at(\"transform\",function(t,e){return\"translate(0,\"+(15*e+45)+\")\"})}).on(\"leave\",function(t){t.target.controller().info(\"scrollDirection\")}).addTo(a)}]))}},function(module,exports,__webpack_require__){\"use strict\";function numberWithCommas(t){return t.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\")}function selectJobData(t,e){return t.filter(function(t){return t.id_selected===e}).filter(function(t){return t.id_compared!=t.id_selected})}function setupXScale(t){var e=d3.select(\"svg.scatter\").at(\"width\"),i=.9*e,a=(1-.9)*e;return d3.scaleLinear().domain(d3.extent(t,function(t){return t.similarity})).range([0+a,i])}function compare(t,e){return t.imp<e.imp?1:t.imp>e.imp?-1:0}function findLeastSimilarJob(t){var e=d3.min(t,function(t){return t.similarity});return t.filter(function(t){return t.similarity===e})}function findMostSimilarJob(t){var e=d3.max(t,function(t){return t.similarity});return t.filter(function(t){return t.similarity===e})}function changeDropDown(t,e,i){}function loadScatterplotUpdated(){var _d,controllerScatter=new ScrollMagic.Controller,allData=null,keyObjectJobName={},keyObjectJobNumber={},keyObjectJobAuto={},keyObjectJobWage={},keyObjectSkillName={},selectedJobSkills=[0,0,0,0,0],skills=[],MAX_AUTO=1,MIN_AUTO=0,pathData=\"assets/data/\",fileNames=[\"crosswalk_jobs\",\"similarity\",\"crosswalk_skills\",\"skills\"],files=[];fileNames.forEach(function(t){files.push(pathData+t+\".csv\")}),(_d=d3).loadData.apply(_d,files.concat([function(err,response){var crosswalk=response[0],similarity=response[1],crosswalkSkills=response[2];skills=response[3],crosswalk.forEach(function(t){t.id=+t.id,t.auto=+t.auto,t.wage=+t.wage,t.number=+t.number}),similarity.forEach(function(t){t.similarity=+t.similarity,t.id_compared=+t.id_compared,t.id_selected=+t.id_selected}),skills.forEach(function(t){t.id_selected=+t.id_selected,t.imp=+t.imp,t.skill_id=+t.skill_id,t.rank=+t.rank}),crosswalkSkills.forEach(function(t){t.skill_id=+t.skill_id}),allData=similarity;var selectedJobID=415,selectedJobData=selectJobData(similarity,selectedJobID),leastSimilarJob=findLeastSimilarJob(selectedJobData),mostSimilarJob=findMostSimilarJob(selectedJobData),currentJobName=d3.select(\"body\").append(\"div.job-selected-name\"),jobSelectedNumber=d3.select(\"body\").append(\"div.job-selected-number\"),chartSvg=d3.select(\"svg.scatter\"),VIEWPORT_RATIO_HEIGHT=.875,miscChartSections=d3.select(\".misc-chart-elements-container\"),miscChartSectionTitle=miscChartSections.select(\"div.chart-title-div\"),svgHeight_PREUPDATE=chartSvg.at(\"height\");chartSvg.at(\"height\",.875*svgHeight_PREUPDATE);var svgWidth=chartSvg.at(\"width\"),widthPercentage=.9,xMaxScaleValue=svgWidth*widthPercentage,xPadding=(1-widthPercentage)*svgWidth,svgHeight=chartSvg.at(\"height\"),heightPercentage=.9,yMaxScaleValue=svgHeight*heightPercentage,yPadding=.02*svgHeight;miscChartSections.st(\"height\",function(){return(1-VIEWPORT_RATIO_HEIGHT)*svgHeight+\"px\"}),miscChartSectionTitle.select(\".chart-title-pt1\").text(\"Which jobs should\"),miscChartSectionTitle.select(\".chart-title-pt2\").text(\"1,789,094\"),miscChartSectionTitle.select(\".chart-title-pt3\").text(\"truckers\"),miscChartSectionTitle.select(\".chart-title-pt4\").text(\"earning\"),miscChartSectionTitle.select(\".chart-title-pt5\").text(\"$82,000\"),miscChartSectionTitle.select(\".chart-title-pt6\").text(\"yearly, transition to?\");var introYAxisLocation=svgHeight/2,yScale=d3.scaleLinear().domain([MIN_AUTO,MAX_AUTO]).range([0+yPadding,yMaxScaleValue]),xScale=setupXScale(selectedJobData),colorScale=d3.scaleLinear().domain([5,2,1.25,1.1,.9,.75,.5,.2]).range([\"#a50026\",\"#d73027\",\"#f46d43\",\"#fee090\",\"#e0f3f8\",\"#74add1\",\"#4575b4\",\"#313695\"]),radiusScale=d3.scaleSqrt().domain([0,d3.max(crosswalk,function(t){return t.wage})]).range([0,6]);crosswalk.forEach(function(t){keyObjectJobName[t.id]=t.job_name}),crosswalk.forEach(function(t){keyObjectJobNumber[t.id]=t.number}),crosswalk.forEach(function(t){keyObjectJobAuto[t.id]=t.auto}),crosswalk.forEach(function(t){keyObjectJobWage[t.id]=t.wage}),crosswalkSkills.forEach(function(t){return keyObjectSkillName[t.skill_id]=t.skill}),d3.selectAll(\"g.all-skills\").st(\"opacity\",0),d3.selectAll(\"g.skill-section\").st(\"opacity\",0);var jobDropdownMenu=d3.select(\"div.job-selector-div\").append(\"select\").at(\"class\",\"scatter-dropdown-menu\").st(\"visibility\",\"hidden\"),jobButtons=jobDropdownMenu.selectAll(\"option.job-button\").data(crosswalk).enter().append(\"option.job-button\").at(\"value\",function(t){return t.id}).at(\"data-subtext\",function(t){return 100*t.auto+\"%\"});jobButtons.text(function(t){return t.job_name}),jobDropdownMenu.on(\"change\",function(d,i,n){var selectedJobID=eval(d3.select(n[i]).property(\"value\"));console.log(selectedJobID);var updatedData=selectJobData(allData,selectedJobID),xScale=setupXScale(updatedData),currentJobId=updatedData[0].id_selected;miscChartSectionTitle.select(\".chart-title-pt2\").text(numberWithCommas(keyObjectJobNumber[currentJobId])),miscChartSectionTitle.select(\".chart-title-pt3\").text(keyObjectJobName[currentJobId]),miscChartSectionTitle.select(\".chart-title-pt4\").text(\"earning\"),miscChartSectionTitle.select(\".chart-title-pt5\").text(\"$\"+numberWithCommas(keyObjectJobWage[currentJobId])),yScale.domain([0,keyObjectJobAuto[currentJobId]]),d3.selectAll(\"circle.job\").remove();var jobCircles=d3.select(\"svg.scatter\").selectAll(\"circle.job\").data(updatedData).enter().append(\"circle.job\");jobCircles.at(\"cx\",function(t){return xScale(t.similarity)}).at(\"cy\",function(t){return yScale(keyObjectJobAuto[t.id_compared])}).st(\"fill\",function(t){var e=keyObjectJobWage[t.id_selected],i=keyObjectJobWage[t.id_compared];return colorScale(e/i)}).st(\"opacity\",function(t){return+keyObjectJobAuto[t.id_compared]>keyObjectJobAuto[t.id_selected]?0:1}).st(\"stroke\",\"black\").at(\"r\",function(t){var e=keyObjectJobNumber[t.id_compared];return radiusScale(e)}),jobCircles.on(\"mouseenter\",function(t,e,i){var a=d3.select(\"div.jobTooltip\");a.st(\"visibility\",\"visible\");var r=d3.select(i[e]).at(\"cx\"),o=d3.select(i[e]).at(\"cy\");a.st(\"left\",r+\"px\").st(\"top\",o+\"px\"),selectedJobSkills=(selectedJobSkills=selectJobData(skills,t.id_compared)).sort(compare),d3.select(\"div.job-selected-name\").text(\"Main job: \"+keyObjectJobName[t.id_selected]),d3.select(\"div.job-compared-name\").text(\"Compared job: \"+keyObjectJobName[t.id_compared]),d3.select(\"div.job-selected-number\").text(\"Main job quantity: \"+numberWithCommas(keyObjectJobNumber[t.id_selected])),d3.select(\"div.job-compared-number\").text(\"Compared job quantity: \"+numberWithCommas(keyObjectJobNumber[t.id_compared]));var n=a.select(\"div.job-skills-container\"),l=(n.selectAll(\"div.bar-container\"),n.selectAll(\"div.job-bar-name\").data(selectedJobSkills)),c=n.selectAll(\"div.job-bar\").data(selectedJobSkills),s=n.selectAll(\"div.job-bar-value\").data(selectedJobSkills);console.log(selectedJobSkills),c.st(\"height\",\"20px\").st(\"width\",function(t){return t.imp+\"px\"}).st(\"background\",\"black\"),l.text(function(t){return keyObjectSkillName[t.skill_id]}),s.text(function(t){return t.imp})}).on(\"mouseleave\",function(){jobTooltip.st(\"visibility\",\"hidden\")})});var jobCircles=chartSvg.selectAll(\"circle.job\").data(selectedJobData).enter().append(\"circle.job\");jobCircles.at(\"cx\",function(t){return xScale(t.similarity)}).at(\"cy\",introYAxisLocation).st(\"fill\",\"white\").st(\"stroke\",\"black\").at(\"r\",\"3\");var leastSimilarJob_ANNOTATION=chartSvg.append(\"g.least-similar-annotation\"),mostSimilarJob_ANNOTATION=chartSvg.append(\"g.most-similar-annotation\"),leastSimilarJob_LINE=leastSimilarJob_ANNOTATION.append(\"line\"),mostSimilarJob_LINE=mostSimilarJob_ANNOTATION.append(\"line\"),leastSimilarJob_TEXT=leastSimilarJob_ANNOTATION.append(\"text\"),mostSimilarJob_TEXT=mostSimilarJob_ANNOTATION.append(\"text\");leastSimilarJob_TEXT.text(keyObjectJobName[leastSimilarJob[0].id_compared]),mostSimilarJob_TEXT.text(keyObjectJobName[mostSimilarJob[0].id_compared]).st(\"text-anchor\",\"end\");var verticalLabelPositioningShorter=.8*introYAxisLocation,verticalLabelPositioningTaller=.6*introYAxisLocation,lineHeightLeastSimilarJob=introYAxisLocation-verticalLabelPositioningShorter,lineHeightMostSimilarJob=introYAxisLocation-verticalLabelPositioningTaller;leastSimilarJob_ANNOTATION.at(\"transform\",function(t){return\"translate(\"+xScale(leastSimilarJob[0].similarity)+\",\"+verticalLabelPositioningShorter+\")\"}),mostSimilarJob_ANNOTATION.at(\"transform\",function(t){return\"translate(\"+xScale(mostSimilarJob[0].similarity)+\",\"+verticalLabelPositioningTaller+\")\"}),leastSimilarJob_LINE.at(\"x1\",0).at(\"y1\",0).at(\"x2\",0).at(\"y2\",lineHeightLeastSimilarJob).st(\"stroke-width\",1).st(\"stroke\",\"black\"),mostSimilarJob_LINE.at(\"x1\",0).at(\"y1\",0).at(\"x2\",0).at(\"y2\",lineHeightMostSimilarJob).st(\"stroke-width\",1).st(\"stroke\",\"black\");var xAxisLabel=chartSvg.append(\"text.axis-label similarity\"),xAxisLabelHeight=1.1*introYAxisLocation;xAxisLabel.at(\"x\",svgWidth/2).at(\"y\",xAxisLabelHeight).text(\"SKILL SIMILARITY TO TRUCKERS\").st(\"text-anchor\",\"middle\");var maxSimilarityLabel=chartSvg.append(\"text.axis-label max-similarity\"),minSimilarityLabel=chartSvg.append(\"text.axis-label min-similarity\"),xAxisMaxMinLabelHeight=1.05*introYAxisLocation;maxSimilarityLabel.at(\"x\",xMaxScaleValue).at(\"y\",xAxisMaxMinLabelHeight).text(\"SIMILAR\").st(\"text-anchor\",\"middle\"),minSimilarityLabel.at(\"x\",xPadding).at(\"y\",xAxisMaxMinLabelHeight).text(\"DIFFERENT\").st(\"text-anchor\",\"middle\");var formatPercent=d3.format(\".0%\"),yAxisLabel=d3.axisLeft(yScale).ticks(1).tickFormat(formatPercent),yAxisGroup=chartSvg.append(\"g.scatter-y-axis\").attr(\"transform\",\"translate(\"+xPadding+\",0)\").call(yAxisLabel).st(\"opacity\",0),automatability_LABEL=chartSvg.append(\"text.scatter-label-y-axis\");automatability_LABEL.at(\"transform\",\"translate(\"+xPadding+\",\"+introYAxisLocation+\") rotate(270)\").st(\"text-anchor\",\"middle\").st(\"opacity\",0).text(\"AUTOMATABILITY LIKELIHOOD\");var jobTooltip=d3.select(\"div.svg-container\").append(\"div.jobTooltip\"),jobSelectedName=d3.select(\"div.job-selected-name\"),jobComparedName=jobTooltip.append(\"div.job-compared-name\"),jobComparedNumber=jobTooltip.append(\"div.job-compared-number\"),jobSkillsContainer=jobTooltip.append(\"div.job-skills-container\"),jobSkillsBarRow=jobSkillsContainer.selectAll(\"div.job-bar-container\").data(selectedJobSkills).enter().append(\"div.bar-container\"),jobSkillsNames=jobSkillsBarRow.append(\"div.job-bar-name\").data(selectedJobSkills).enter(),jobSkillsBars=jobSkillsBarRow.append(\"div.job-bar\").data(selectedJobSkills).enter(),jobSkillsValues=jobSkillsBarRow.append(\"div.job-bar-value\").data(selectedJobSkills).enter();jobCircles.on(\"mouseenter\",function(t,e,i){selectedJobSkills=(selectedJobSkills=selectJobData(skills,t.id_compared)).sort(compare);var a=d3.select(\"div.jobTooltip\");a.st(\"visibility\",\"visible\");var r=d3.select(i[e]).at(\"cx\"),o=d3.select(i[e]).at(\"cy\");a.st(\"left\",r+\"px\").st(\"top\",o+\"px\"),d3.select(\"div.job-compared-name\").text(\"Compared job: \"+keyObjectJobName[t.id_compared]),d3.select(\"div.job-compared-number\").text(\"Compared job quantity: \"+numberWithCommas(keyObjectJobNumber[t.id_compared]));var n=a.select(\"div.job-skills-container\"),l=(n.selectAll(\"div.bar-container\"),n.selectAll(\"div.job-bar-name\").data(selectedJobSkills)),c=n.selectAll(\"div.job-bar\").data(selectedJobSkills),s=n.selectAll(\"div.job-bar-value\").data(selectedJobSkills);console.log(selectedJobSkills),c.st(\"height\",\"20px\").st(\"width\",function(t){return t.imp+\"px\"}).st(\"background\",\"black\"),l.text(function(t){return keyObjectSkillName[t.skill_id]}),s.text(function(t){return t.imp})}).on(\"mouseleave\",function(){jobTooltip.st(\"visibility\",\"hidden\")});var sceneJob1=new ScrollMagic.Scene({triggerElement:\".xy-axes-scatter\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){var e=void 0;0===$(\".bisecting-automation-group\").length&&((e=chartSvg.append(\"g.bisecting-automation-group\")).at(\"transform\",\"translate(0,\"+yScale(keyObjectJobAuto[selectedJobID])+\")\"),e.append(\"line.bisecting-line\").at(\"x1\",xPadding).at(\"y1\",0).at(\"x2\",xMaxScaleValue).at(\"y2\",0),e.append(\"text.bisecting-line-label\").text(\"TRUCKERS\")),chartSvg.select(\"g.least-similar-annotation\").st(\"opacity\",0),chartSvg.select(\"g.most-similar-annotation\").st(\"opacity\",0);var i=1.05*yMaxScaleValue;yAxisGroup.st(\"opacity\",1),automatability_LABEL.st(\"opacity\",1),chartSvg.selectAll(\"text.axis-label\").at(\"y\",i),jobCircles.transition().at(\"cy\",function(t){return yScale(keyObjectJobAuto[t.id_compared])}),yScale.domain([0,.79]),e.transition().delay(2e3).at(\"transform\",\"translate(0,\"+yScale(keyObjectJobAuto[selectedJobID])+\")\").st(\"opacity\",0),jobCircles.st(\"opacity\",function(t){return+keyObjectJobAuto[t.id_compared]>keyObjectJobAuto[t.id_selected]?0:1}).transition().delay(2e3).at(\"cy\",function(t){return yScale(keyObjectJobAuto[t.id_compared])})}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&(yScale.domain([0,1]),automatabilityBisectingGroup.transition().st(\"opacity\",1).at(\"transform\",\"translate(0,\"+yScale(keyObjectJobAuto[selectedJobID])+\")\"),jobCircles.transition().at(\"cy\",function(t){return yScale(keyObjectJobAuto[t.id_compared])}).transition().delay(2e3).st(\"opacity\",function(t){return 1}))}).addTo(controllerScatter);$show_Earnings_Comparison.on(\"click\",function(){jobCircles.transition().st(\"fill\",function(t){var e=keyObjectJobWage[t.id_selected],i=keyObjectJobWage[t.id_compared];return colorScale(e/i)})});var sceneJob2=new ScrollMagic.Scene({triggerElement:\".show-similarity-auto-wage\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){jobCircles.transition().st(\"fill\",function(t){var e=keyObjectJobWage[t.id_selected],i=keyObjectJobWage[t.id_compared];return colorScale(e/i)}).transition().delay(1e3).st(\"opacity\",function(t){return keyObjectJobWage[t.id_selected]<keyObjectJobWage[t.id_compared]&&keyObjectJobAuto[t.id_selected]>keyObjectJobAuto[t.id_compared]?1:0})}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&jobCircles.st(\"opacity\",1).transition().delay(1e3).st(\"fill\",\"#FFF\")}).addTo(controllerScatter),sceneJob3=new ScrollMagic.Scene({triggerElement:\".show-similarity-auto-wage-number\",offset:0,duration:1,triggerHook:.5}).on(\"enter\",function(t){jobDropdownMenu.st(\"visibility\",\"visible\"),jobCircles.transition().at(\"r\",function(t){var e=keyObjectJobNumber[t.id_compared];return radiusScale(e)})}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&(jobDropdownMenu.st(\"visibility\",\"hidden\"),jobCircles.transition().at(\"r\",3))}).addIndicators({name:\"finalIndicator\"}).addTo(controllerScatter)}]))}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=loadScatterplotUpdated},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(){var t=new ScrollMagic.Controller,e=(window.innerWidth,window.innerHeight,[{job:\"Truckers\",automatability:.79,skillDeveloperScore:3,skillDeveloperName:\"Programming\",fill:\"blue\",skillTruckerScore:72,skillTruckerName:\"Multilimb Coordination\"},{job:\"Developers\",automatability:.04,skillDeveloperScore:75,skillDeveloperName:\"Programming\",fill:\"magenta\",skillTruckerScore:0,skillTruckerName:\"Multilimb Coordination\"},{job:\"Elementary school teachers\",automatability:0,skillDeveloperScore:\"\",skillDeveloperName:\"\",fill:\"\",skillTruckerScore:\"\",skillTruckerName:\"\"},{job:\"Telemarketers\",automatability:1,skillDeveloperScore:\"\",skillDeveloperName:\"\",fill:\"\",skillTruckerScore:\"\",skillTruckerName:\"\"}]),i=d3.select(\"body\").select(\"div.svg-container\").select(\"svg.scatter\"),a=(i.append(\"defs\").selectAll(\"pattern\").data(e).enter().append(\"pattern\").at(\"width\",40).at(\"height\",40).at(\"id\",function(t){return t.job.replace(/ /g,\"_\")+\"-img\"}).append(\"image\").at(\"width\",40).at(\"height\",40).at(\"x\",0).at(\"y\",0).at(\"xlink:href\",function(t){return\"assets/data/circle-images/\"+t.job.replace(/ /g,\"_\")+\".png\"}),i.at(\"width\")),r=i.at(\"height\"),o=.9*r,n=.9*a,l=(1-.9)*a,c=(1-.9)*r,s=d3.scaleLinear().domain([0,1]).range([0+c,o]),d=d3.scaleLinear().domain([0,100]).range([0+l,n]),u=a/2,b=(i.append(\"text.y-axis-label.min\").at(\"x\",u).at(\"y\",c/2).st(\"fill\",\"#2F80ED\").st(\"text-anchor\",\"middle\").text(\"FUTURE-PROOF JOBS\"),i.append(\"text.y-axis-label.max\").at(\"x\",u).at(\"y\",o+c/2).st(\"fill\",\"#EB5757\").st(\"text-anchor\",\"middle\").text(\"🤖 WILL TAKE THESE JOBS\"),i.selectAll(\"circle.jobs-circles\").data(e).enter()),f=i.append(\"text.automatability-label\"),m=b.append(\"g.trucker-developer-groups\"),p=m.append(\"circle.intro-jobs-circles\"),g=m.append(\"text.intro-automatability-values\"),y=m.append(\"text.intro-job-names\"),k=m.append(\"text.intro-job-skill-values\");g.text(function(t){return 100*t.automatability+\"%\"}),y.text(function(t){return t.job}),k.text(function(t){return t.skillTruckerScore}),f.text(\"automation likelihood\"),m.at(\"transform\",function(t){return\"translate(\"+u+\",\"+ +s(t.automatability)+\")\"}).st(\"opacity\",function(t){return\"Elementary school teachers\"===t.job||\"Telemarketers\"===t.job?1:0}),g.st(\"opacity\",function(t){return\"Elementary school teachers\"===t.job||\"Telemarketers\"===t.job?0:1}),k.st(\"opacity\",0),p.at(\"cx\",40).at(\"r\",20).st(\"opacity\",function(t){return\"Developers\"===t.job?0:1}).st(\"fill\",\"#2F80ED\").st(\"fill\",function(t){return\"url(#\"+t.job.replace(/ /g,\"_\")+\"-img)\"}),y.at(\"x\",80).at(\"y\",4).st(\"text-anchor\",\"right\"),g.at(\"x\",-40).at(\"y\",4).st(\"text-anchor\",\"left\"),f.at(\"transform\",\"translate(\"+u+\",\"+r/2+\")\").st(\"opacity\",1);var v=d3.format(\".0%\"),h=d3.axisLeft(s).ticks(1).tickFormat(v),S=d3.axisTop(d),x=u,j=i.append(\"g.intro-y-axis\").attr(\"transform\",\"translate(\"+x+\",0)\").call(h).st(\"opacity\",1),_=i.append(\"g.intro-x-axis\").attr(\"transform\",\"translate(0,50)\").call(S).st(\"opacity\",0);new ScrollMagic.Scene({triggerElement:\".main-job-circle\",offset:0,duration:1,triggerHook:100}).on(\"enter\",function(t){p.st(\"opacity\",1),m.transition().st(\"opacity\",function(t){return\"Truckers\"===t.job?1:0}),f.st(\"opacity\",1)}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&(p.transition().at(\"cy\",function(t){return s(.5)}),j.transition().st(\"opacity\",0),truckerDeveloperAutomatabilityValues.transition().st(\"opacity\",0))}).addTo(t),new ScrollMagic.Scene({triggerElement:\".main-job-automation\",offset:0,duration:1,triggerHook:100}).on(\"enter\",function(t){m.transition().st(\"opacity\",function(t){return\"\"===t.skillTruckerScore?0:1})}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&(p.transition().at(\"cy\",function(t){return s(.5)}),j.transition().st(\"opacity\",0),truckerDeveloperAutomatabilityValues.transition().st(\"opacity\",0))}).addTo(t),new ScrollMagic.Scene({triggerElement:\".main-job-example-skill\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){truckerDeveloperAutomatabilityValues.transition().st(\"opacity\",0),_.transition().st(\"opacity\",1),j.transition().st(\"opacity\",0),p.transition().at(\"cy\",function(){return s(.5)}).transition().at(\"cx\",function(t){return d(t.skillTruckerScore)}),truckerDeveloperSkillValues.at(\"x\",function(t){return d(t.skillTruckerScore)}).at(\"y\",function(){return s(.5)}).st(\"opacity\",1).st(\"text-anchor\",\"middle\")}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&(truckerDeveloperAutomatabilityValues.transition().st(\"opacity\",1),_.transition().st(\"opacity\",0),j.transition().st(\"opacity\",1),p.transition().at(\"cy\",function(t){return s(t.automatability)}).at(\"cx\",introCircleXLocation),truckerDeveloperSkillValues.st(\"opacity\",0))}).addTo(t),new ScrollMagic.Scene({triggerElement:\".comparison-job-example-skill\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){d3.selectAll(\".y-axis-label\").st(\"opacity\",0),d3.selectAll(\".intro-y-axis\").st(\"opacity\",0),d3.selectAll(\".intro-jobs-circles\").st(\"opacity\",0),d3.selectAll(\".intro-job-names\").st(\"opacity\",0),d3.selectAll(\".intro-automatability-values\").st(\"opacity\",0)}).on(\"leave\",function(t){\"REVERSE\"==t.target.controller().info(\"scrollDirection\")&&(p.transition().at(\"cy\",function(){return s(.5)}).transition().at(\"cx\",function(t){return d(t.skillTruckerScore)}),truckerDeveloperSkillValues.transition().text(function(t){return t.skillTruckerScore}).st(\"text-anchor\",\"middle\").at(\"x\",function(t){return d(t.skillTruckerScore)}).at(\"y\",function(){return s(.5)}))}).addTo(t)}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(i(2)),r=n(i(1)),o=n(i(0));function n(t){return t&&t.__esModule?t:{default:t}}var l=new ScrollMagic.Controller,c=window.innerWidth,s=window.innerHeight;console.log(Math.max(document.documentElement.clientHeight)),e.default={init:function(){d3.select(\"body\").select(\"div.svg-container\").select(\"svg.scatter\").at(\"height\",function(){return 1*s}).at(\"width\",function(){return.9*c}).st(\"fill\",\"#00000\");var t,e,i=(t=\"#content\",e=Math.max(document.documentElement.clientHeight,window.innerHeight||0),d3.select(t).node().getBoundingClientRect().height-e/2);new ScrollMagic.Scene({triggerElement:\".svg-container\",offset:0,duration:i,triggerHook:0}).setPin(\".svg-container\",{pushFollowers:!1}).on(\"enter\",function(t){(0,a.default)()}).on(\"leave\",function(t){t.target.controller().info(\"scrollDirection\")}).addIndicators({name:\"indicatorScatter\"}).addTo(l),new ScrollMagic.Scene({triggerElement:\".two-jobs-all-skills\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){(0,o.default)()}).on(\"leave\",function(t){t.target.controller().info(\"scrollDirection\")}).addTo(l),new ScrollMagic.Scene({triggerElement:\".x-axis-scatter\",offset:0,duration:1,triggerHook:0}).on(\"enter\",function(t){(0,r.default)()}).on(\"leave\",function(t){t.target.controller().info(\"scrollDirection\")}).addTo(l)},resize:function(){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.android()||a.blackberry()||a.ios()||a.opera()||a.windows()}};e.default=a},function(t,e){var i;i=function(){return this}();try{i=i||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e,i){(function(e){var i=NaN,a=\"[object Symbol]\",r=/^\\s+|\\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,s=\"object\"==typeof e&&e&&e.Object===Object&&e,d=\"object\"==typeof self&&self&&self.Object===Object&&self,u=s||d||Function(\"return this\")(),b=Object.prototype.toString,f=Math.max,m=Math.min,p=function(){return u.Date.now()};function g(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function y(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&b.call(t)==a}(t))return i;if(g(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(r,\"\");var s=n.test(t);return s||l.test(t)?c(t.slice(2),s?2:8):o.test(t)?i:+t}t.exports=function(t,e,i){var a,r,o,n,l,c,s=0,d=!1,u=!1,b=!0;if(\"function\"!=typeof t)throw new TypeError(\"Expected a function\");function k(e){var i=a,o=r;return a=r=void 0,s=e,n=t.apply(o,i)}function v(t){var i=t-c;return void 0===c||i>=e||i<0||u&&t-s>=o}function h(){var t=p();if(v(t))return S(t);l=setTimeout(h,function(t){var i=e-(t-c);return u?m(i,o-(t-s)):i}(t))}function S(t){return l=void 0,b&&a?k(t):(a=r=void 0,n)}function x(){var t=p(),i=v(t);if(a=arguments,r=this,c=t,i){if(void 0===l)return function(t){return s=t,l=setTimeout(h,e),d?k(t):n}(c);if(u)return l=setTimeout(h,e),k(c)}return void 0===l&&(l=setTimeout(h,e)),n}return e=y(e)||0,g(i)&&(d=!!i.leading,o=(u=\"maxWait\"in i)?f(y(i.maxWait)||0,e):o,b=\"trailing\"in i?!!i.trailing:b),x.cancel=function(){void 0!==l&&clearTimeout(l),s=0,a=c=r=l=void 0},x.flush=function(){return void 0===l?n:S(p())},x}}).call(this,i(5))},function(t,e,i){\"use strict\";var a=n(i(6)),r=n(i(4)),o=n(i(3));function n(t){return t&&t.__esModule?t:{default:t}}var l=d3.select(\"body\"),c=0;l.classed(\"is-mobile\",r.default.any()),window.addEventListener(\"resize\",(0,a.default)(function(){var t=l.node().offsetWidth;c!==t&&(c=t,o.default.resize())},150)),o.default.init()}]);","extractedComments":[]}